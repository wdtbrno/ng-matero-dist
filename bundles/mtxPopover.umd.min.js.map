{"version":3,"sources":["../../../projects/extensions/popover/popover-animations.ts","../../../projects/extensions/popover/popover.ts","../../../projects/extensions/popover/popover-errors.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/extensions/popover/popover-trigger.ts","../../../projects/extensions/popover/popover-target.ts","../../../projects/extensions/popover/popover-module.ts"],"names":["transformPopover","trigger","state","style","opacity","transform","transition","animate","MtxPopover","_dir","_elementRef","zone","this","role","_position","_triggerEvent","_scrollStrategy","_enterDelay","_leaveDelay","_panelOffsetX","_panelOffsetY","_closeOnPanelClick","_closeOnBackdropClick","_disableAnimation","_focusTrapEnabled","_focusTrapAutoCaptureEnabled","_arrowOffsetX","_arrowOffsetY","_arrowWidth","_arrowHeight","_classList","containerPositioning","closeDisabled","_onAnimationStateChange","EventEmitter","closed","setPositionClasses","Object","defineProperty","prototype","value","includes","Error","throwMtxPopoverInvalidPositionStart","throwMtxPopoverInvalidPositionEnd","coerceBooleanProperty","classes","length","split","reduce","obj","className","nativeElement","panelClass","ngOnDestroy","_emitCloseEvent","complete","_handleKeydown","event","keyCode","ESCAPE","emit","onClick","closeOnPanelClick","onMouseOver","triggerEvent","onMouseLeave","setCurrentStyles","pos","position","left","arrowOffsetX","arrowWidth","right","bottom","arrowOffsetY","arrowHeight","top","popoverArrowStyles","Component","args","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","animations","exportAs","Directionality","decorators","type","Optional","ElementRef","NgZone","HostBinding","Input","Output","ViewChild","TemplateRef","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","error","MtxPopoverTrigger","_overlay","_viewContainerRef","_changeDetectorRef","ariaHaspopup","popoverOpened$","Subject","popoverClosed$","_overlayRef","_popoverOpen","_halt","_openedByMouse","_onDestroy","popoverOpened","popoverClosed","ngAfterViewInit","_this","_checkPopover","_setCurrentConfig","popover","subscribe","closePopover","destroyPopover","togglePopover","onMouseEnter","_mouseoverTimer","setTimeout","openPopover","enterDelay","clearTimeout","leaveDelay","_createOverlay","attach","_portal","_subscribeToBackdrop","_subscribeToDetachments","_initPopover","detach","_resetPopover","dispose","_cleanUpSubscriptions","focus","closeOnBackdropClick","backdropClick","pipe","takeUntil","detachments","_setPopoverClosed","_setPopoverOpened","throwMtxPopoverMissingError","TemplatePortal","templateRef","config","_getOverlayConfig","_subscribeToPositions","positionStrategy","overlayState","OverlayConfig","_getPosition","hasBackdrop","backdropClass","direction","scrollStrategy","_getOverlayScrollStrategy","strategy","scrollStrategies","noop","close","block","reposition","_positionSubscription","positionChanges","change","posX","connectionPair","overlayX","posY","overlayY","markForCheck","run","_a","originX","origin2ndX","origin3rdX","_b","originY","origin2ndY","origin3rdY","_c","overlayFallbackX","_d","overlayFallbackY","originFallbackX","originFallbackY","offsetX","xOffset","isNaN","Number","dir","offsetY","yOffset","element","targetElement","positions","flexibleConnectedTo","withLockedPosition","withPositions","withDefaultOffsetX","withDefaultOffsetY","_backdropSubscription","unsubscribe","_detachmentsSubscription","_handleMousedown","isFakeMousedownFromScreenReader","Directive","Overlay","ViewContainerRef","ChangeDetectorRef","HostListener","NgModule","imports","OverlayModule","CommonModule","A11yModule","exports","MtxPopoverTarget","declarations"],"mappings":"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","sourcesContent":["import {\r\n  trigger,\r\n  state,\r\n  style,\r\n  animate,\r\n  transition,\r\n  AnimationTriggerMetadata,\r\n} from '@angular/animations';\r\n\r\n/**\r\n * Below are all the animations for the md-popover component.\r\n * Animation duration and timing values are based on AngularJS Material.\r\n */\r\n\r\n/**\r\n * This animation controls the popover panel's entry and exit from the page.\r\n *\r\n * When the popover panel is added to the DOM, it scales in and fades in its border.\r\n *\r\n * When the popover panel is removed from the DOM, it simply fades out after a brief\r\n * delay to display the ripple.\r\n */\r\n\r\nexport const transformPopover: AnimationTriggerMetadata = trigger('transformPopover', [\r\n  state(\r\n    'enter',\r\n    style({\r\n      opacity: 1,\r\n      transform: `scale(1)`,\r\n    })\r\n  ),\r\n  transition('void => *', [\r\n    style({\r\n      opacity: 0,\r\n      transform: `scale(0)`,\r\n    }),\r\n    animate(`200ms cubic-bezier(0.25, 0.8, 0.25, 1)`),\r\n  ]),\r\n  transition('* => void', [animate('50ms 100ms linear', style({ opacity: 0 }))]),\r\n]);\r\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  ElementRef,\n  ChangeDetectionStrategy,\n  HostBinding,\n  NgZone,\n  Optional,\n} from '@angular/core';\nimport { AnimationEvent } from '@angular/animations';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { Directionality } from '@angular/cdk/bidi';\n\nimport {\n  MtxPopoverTriggerEvent,\n  MtxPopoverScrollStrategy,\n  MtxPopoverPosition,\n} from './popover-types';\nimport {\n  throwMtxPopoverInvalidPositionStart,\n  throwMtxPopoverInvalidPositionEnd,\n} from './popover-errors';\nimport { MtxPopoverPanel } from './popover-interfaces';\nimport { transformPopover } from './popover-animations';\n\n@Component({\n  selector: 'mtx-popover',\n  templateUrl: './popover.html',\n  styleUrls: ['./popover.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  animations: [transformPopover],\n  exportAs: 'mtxPopover',\n})\nexport class MtxPopover implements MtxPopoverPanel, OnDestroy {\n  @HostBinding('attr.role') role = 'dialog';\n\n  /** Settings for popover, view setters and getters for more detail */\n  private _position: MtxPopoverPosition = ['below', 'after'];\n  private _triggerEvent: MtxPopoverTriggerEvent = 'hover';\n  private _scrollStrategy: MtxPopoverScrollStrategy = 'reposition';\n  private _enterDelay = 100;\n  private _leaveDelay = 100;\n  private _panelOffsetX = 0;\n  private _panelOffsetY = 0;\n  private _closeOnPanelClick = false;\n  private _closeOnBackdropClick = true;\n  private _disableAnimation = false;\n  private _focusTrapEnabled = true;\n  private _focusTrapAutoCaptureEnabled = true;\n  private _arrowOffsetX = 20;\n  private _arrowOffsetY = 20;\n  private _arrowWidth = 16;\n  private _arrowHeight = 16;\n\n  /** Config object to be passed into the popover's ngClass */\n  _classList: { [key: string]: boolean } = {};\n\n  /** Whether popover's `targetElement` is defined */\n  public containerPositioning = false;\n\n  /** Closing disabled on popover */\n  public closeDisabled = false;\n\n  /** Config object to be passed into the popover's arrow ngStyle */\n  public popoverPanelStyles: {};\n\n  /** Config object to be passed into the popover's arrow ngStyle */\n  public popoverArrowStyles: {};\n\n  /** Config object to be passed into the popover's content ngStyle */\n  public popoverContentStyles: {};\n\n  /** Emits the current animation state whenever it changes. */\n  _onAnimationStateChange = new EventEmitter<AnimationEvent>();\n\n  /** Position of the popover. */\n  @Input()\n  get position() {\n    return this._position;\n  }\n  set position(value: MtxPopoverPosition) {\n    if (!['before', 'after', 'above', 'below'].includes(value[0])) {\n      throwMtxPopoverInvalidPositionStart();\n    }\n    if (!['before', 'after', 'above', 'below', 'center'].includes(value[1])) {\n      throwMtxPopoverInvalidPositionEnd();\n    }\n    this._position = value;\n    this.setPositionClasses();\n  }\n\n  /** Popover trigger event */\n  @Input()\n  get triggerEvent(): MtxPopoverTriggerEvent {\n    return this._triggerEvent;\n  }\n  set triggerEvent(value: MtxPopoverTriggerEvent) {\n    this._triggerEvent = value;\n  }\n\n  /** Popover scroll strategy */\n  @Input()\n  get scrollStrategy(): MtxPopoverScrollStrategy {\n    return this._scrollStrategy;\n  }\n  set scrollStrategy(value: MtxPopoverScrollStrategy) {\n    this._scrollStrategy = value;\n  }\n\n  /** Popover enter delay */\n  @Input()\n  get enterDelay(): number {\n    return this._enterDelay;\n  }\n  set enterDelay(value: number) {\n    this._enterDelay = value;\n  }\n\n  /** Popover leave delay */\n  @Input()\n  get leaveDelay(): number {\n    return this._leaveDelay;\n  }\n  set leaveDelay(value: number) {\n    this._leaveDelay = value;\n  }\n\n  /** Popover target offset x */\n  @Input()\n  get xOffset(): number {\n    return this._panelOffsetX;\n  }\n  set xOffset(value: number) {\n    this._panelOffsetX = value;\n  }\n\n  /** Popover target offset y */\n  @Input()\n  get yOffset(): number {\n    return this._panelOffsetY;\n  }\n  set yOffset(value: number) {\n    this._panelOffsetY = value;\n  }\n\n  /** Popover arrow offset x */\n  @Input()\n  get arrowOffsetX(): number {\n    return this._arrowOffsetX;\n  }\n  set arrowOffsetX(value: number) {\n    this._arrowOffsetX = value;\n  }\n\n  /** Popover arrow offset y */\n  @Input()\n  get arrowOffsetY(): number {\n    return this._arrowOffsetY;\n  }\n  set arrowOffsetY(value: number) {\n    this._arrowOffsetY = value;\n  }\n\n  /** Popover arrow width */\n  @Input()\n  get arrowWidth(): number {\n    return this._arrowWidth;\n  }\n  set arrowWidth(value: number) {\n    this._arrowWidth = value;\n  }\n\n  /** Popover arrow height */\n  @Input()\n  get arrowHeight(): number {\n    return this._arrowHeight;\n  }\n  set arrowHeight(value: number) {\n    this._arrowHeight = value;\n  }\n\n  /** Popover close on container click */\n  @Input()\n  get closeOnPanelClick(): boolean {\n    return this._closeOnPanelClick;\n  }\n  set closeOnPanelClick(value: boolean) {\n    this._closeOnPanelClick = coerceBooleanProperty(value);\n  }\n\n  /** Popover close on backdrop click */\n  @Input()\n  get closeOnBackdropClick(): boolean {\n    return this._closeOnBackdropClick;\n  }\n  set closeOnBackdropClick(value: boolean) {\n    this._closeOnBackdropClick = coerceBooleanProperty(value);\n  }\n\n  /** Disable animations of popover and all child elements */\n  @Input()\n  get disableAnimation(): boolean {\n    return this._disableAnimation;\n  }\n  set disableAnimation(value: boolean) {\n    this._disableAnimation = coerceBooleanProperty(value);\n  }\n\n  /** Popover focus trap using cdkTrapFocus */\n  @Input()\n  get focusTrapEnabled(): boolean {\n    return this._focusTrapEnabled;\n  }\n  set focusTrapEnabled(value: boolean) {\n    this._focusTrapEnabled = coerceBooleanProperty(value);\n  }\n\n  /** Popover focus trap auto capture using cdkTrapFocusAutoCapture */\n  @Input()\n  get focusTrapAutoCaptureEnabled(): boolean {\n    return this._focusTrapAutoCaptureEnabled;\n  }\n  set focusTrapAutoCaptureEnabled(value: boolean) {\n    this._focusTrapAutoCaptureEnabled = coerceBooleanProperty(value);\n  }\n\n  /**\n   * This method takes classes set on the host md-popover element and applies them on the\n   * popover template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing popover from outside the component.\n   * @param classes list of class names\n   */\n  @Input('class')\n  set panelClass(classes: string) {\n    if (classes && classes.length) {\n      this._classList = classes.split(' ').reduce((obj: any, className: string) => {\n        obj[className] = true;\n        return obj;\n      }, {});\n\n      this._elementRef.nativeElement.className = '';\n      this.setPositionClasses();\n    }\n  }\n\n  /**\n   * This method takes classes set on the host md-popover element and applies them on the\n   * popover template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing popover from outside the component.\n   * @deprecated Use `panelClass` instead.\n   * @breaking-change 8.0.0\n   */\n  @Input()\n  get classList(): string {\n    return this.panelClass;\n  }\n  set classList(classes: string) {\n    this.panelClass = classes;\n  }\n\n  /** Event emitted when the popover is closed. */\n  @Output() closed = new EventEmitter<void>();\n\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  constructor(\n    @Optional() private _dir: Directionality,\n    private _elementRef: ElementRef,\n    public zone: NgZone\n  ) {\n    this.setPositionClasses();\n  }\n\n  ngOnDestroy() {\n    this._emitCloseEvent();\n    this.closed.complete();\n  }\n\n  /** Handle a keyboard event from the popover, delegating to the appropriate action. */\n  _handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case ESCAPE:\n        this._emitCloseEvent();\n        return;\n    }\n  }\n\n  /**\n   * This emits a close event to which the trigger is subscribed. When emitted, the\n   * trigger will close the popover.\n   */\n  _emitCloseEvent(): void {\n    this.closed.emit();\n  }\n\n  /** Close popover on click if closeOnPanelClick is true */\n  onClick() {\n    if (this.closeOnPanelClick) {\n      this._emitCloseEvent();\n    }\n  }\n\n  /**\n   * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.\n   * https://github.com/angular/material2/pull/5493#issuecomment-313085323\n   */\n  /** Disables close of popover when leaving trigger element and mouse over the popover */\n  onMouseOver() {\n    if (this.triggerEvent === 'hover') {\n      this.closeDisabled = true;\n    }\n  }\n  /** Enables close of popover when mouse leaving popover element */\n  onMouseLeave() {\n    if (this.triggerEvent === 'hover') {\n      this.closeDisabled = false;\n      this._emitCloseEvent();\n    }\n  }\n\n  // TODO: Refactor how styles are set and updated on the component, use best practices.\n  // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.\n  /** Sets the current styles for the popover to allow for dynamically changing settings */\n  setCurrentStyles(pos = this.position) {\n    const left =\n      pos[1] === 'after'\n        ? `${this.arrowOffsetX - this.arrowWidth / 2}px`\n        : pos[1] === 'center'\n        ? `calc(50% - ${this.arrowWidth / 2}px)`\n        : '';\n    const right = pos[1] === 'before' ? `${this.arrowOffsetX - this.arrowWidth / 2}px` : '';\n\n    const bottom =\n      pos[1] === 'above'\n        ? `${this.arrowOffsetY - this.arrowHeight / 2}px`\n        : pos[1] === 'center'\n        ? `calc(50% - ${this.arrowHeight / 2}px)`\n        : '';\n    const top = pos[1] === 'below' ? `${this.arrowOffsetY - this.arrowHeight / 2}px` : '';\n\n    this.popoverArrowStyles =\n      pos[0] === 'above' || pos[0] === 'below'\n        ? {\n            left: this._dir.value === 'ltr' ? left : right,\n            right: this._dir.value === 'ltr' ? right : left,\n          }\n        : {\n            top,\n            bottom,\n          };\n  }\n\n  /**\n   * It's necessary to set position-based classes to ensure the popover panel animation\n   * folds out from the correct direction.\n   */\n  setPositionClasses(pos = this.position): void {\n    this._classList['mtx-popover-before-above'] = pos[0] === 'before' && pos[1] === 'above';\n    this._classList['mtx-popover-before-center'] = pos[0] === 'before' && pos[1] === 'center';\n    this._classList['mtx-popover-before-below'] = pos[0] === 'before' && pos[1] === 'below';\n    this._classList['mtx-popover-after-above'] = pos[0] === 'after' && pos[1] === 'above';\n    this._classList['mtx-popover-after-center'] = pos[0] === 'after' && pos[1] === 'center';\n    this._classList['mtx-popover-after-below'] = pos[0] === 'after' && pos[1] === 'below';\n    this._classList['mtx-popover-above-before'] = pos[0] === 'above' && pos[1] === 'before';\n    this._classList['mtx-popover-above-center'] = pos[0] === 'above' && pos[1] === 'center';\n    this._classList['mtx-popover-above-after'] = pos[0] === 'above' && pos[1] === 'after';\n    this._classList['mtx-popover-below-before'] = pos[0] === 'below' && pos[1] === 'before';\n    this._classList['mtx-popover-below-center'] = pos[0] === 'below' && pos[1] === 'center';\n    this._classList['mtx-popover-below-after'] = pos[0] === 'below' && pos[1] === 'after';\n  }\n\n  static ngAcceptInputType_closeOnPanelClick: BooleanInput;\n  static ngAcceptInputType_closeOnBackdropClick: BooleanInput;\n  static ngAcceptInputType_disableAnimation: BooleanInput;\n  static ngAcceptInputType_focusTrapEnabled: BooleanInput;\n  static ngAcceptInputType_focusTrapAutoCaptureEnabled: BooleanInput;\n}\n","/**\n * Throws an exception for the case when popover trigger doesn't have a valid mtx-popover instance\n */\nexport function throwMtxPopoverMissingError() {\n  throw Error(`mtx-popover-trigger: must pass in an mtx-popover instance.\n\n    Example:\n      <mtx-popover #popover=\"mtxPopover\"></mtx-popover>\n      <button [mtxPopoverTriggerFor]=\"popover\"></button>`);\n}\n\n/**\n * Throws an exception for the case when popover's mtxPopoverPosition[0] value isn't valid.\n * In other words, it doesn't match 'above', 'below', 'before' or 'after'.\n */\nexport function throwMtxPopoverInvalidPositionStart() {\n  throw Error(`mtxPopoverPosition[0] value must be either 'above', 'below', 'before' or 'after'.\n    Example: <mtx-popover [position]=\"['below', 'after']\" #popover=\"mtxPopover\"></mtx-popover>`);\n}\n\n/**\n * Throws an exception for the case when popover's mtxPopoverPosition[1] value isn't valid.\n * In other words, it doesn't match 'above', 'below', 'before', 'after' or 'center'.\n */\nexport function throwMtxPopoverInvalidPositionEnd() {\n  throw Error(`mtxPopoverPosition[1] value must be either 'above', 'below', 'before', 'after' or 'center'.\n    Example: <mtx-popover [position]=\"['below', 'after']\" #popover=\"mtxPopover\"></mtx-popover>`);\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewContainerRef,\n  HostListener,\n  HostBinding,\n  ChangeDetectorRef,\n} from '@angular/core';\n\nimport { isFakeMousedownFromScreenReader } from '@angular/cdk/a11y';\nimport { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n  Overlay,\n  OverlayRef,\n  OverlayConfig,\n  HorizontalConnectionPos,\n  VerticalConnectionPos,\n  FlexibleConnectedPositionStrategy,\n  ScrollStrategy,\n  ConnectedPosition,\n} from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\n\nimport { Subscription, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { MtxPopoverPanel, MtxTarget } from './popover-interfaces';\nimport {\n  MtxPopoverTriggerEvent,\n  MtxPopoverScrollStrategy,\n  MtxPopoverPosition,\n  MtxPopoverPositionStart,\n} from './popover-types';\nimport { throwMtxPopoverMissingError } from './popover-errors';\n\n/**\n * This directive is intended to be used in conjunction with an mtx-popover tag. It is\n * responsible for toggling the display of the provided popover instance.\n */\n\n@Directive({\n  selector: '[mtxPopoverTriggerFor]',\n  exportAs: 'mtxPopoverTrigger',\n})\nexport class MtxPopoverTrigger implements AfterViewInit, OnDestroy {\n  @HostBinding('attr.aria-haspopup') ariaHaspopup = true;\n\n  popoverOpened$ = new Subject<void>();\n  popoverClosed$ = new Subject<void>();\n\n  private _portal: TemplatePortal<any>;\n  private _overlayRef: OverlayRef | null = null;\n  private _popoverOpen = false;\n  private _halt = false;\n  private _backdropSubscription: Subscription;\n  private _positionSubscription: Subscription;\n  private _detachmentsSubscription: Subscription;\n\n  private _mouseoverTimer: any;\n\n  // tracking input type is necessary so it's possible to only auto-focus\n  // the first item of the list when the popover is opened via the keyboard\n  private _openedByMouse = false;\n\n  private _onDestroy = new Subject<void>();\n\n  /** References the popover instance that the trigger is associated with. */\n  @Input('mtxPopoverTriggerFor') popover: MtxPopoverPanel;\n\n  /** References the popover target instance that the trigger is associated with. */\n  @Input('mtxPopoverTargetAt') targetElement: MtxTarget;\n\n  /** Popover trigger event */\n  @Input('mtxPopoverTriggerOn') triggerEvent: MtxPopoverTriggerEvent;\n\n  /** Event emitted when the associated popover is opened. */\n  @Output() popoverOpened = new EventEmitter<void>();\n\n  /** Event emitted when the associated popover is closed. */\n  @Output() popoverClosed = new EventEmitter<void>();\n\n  constructor(\n    private _overlay: Overlay,\n    public _elementRef: ElementRef,\n    private _viewContainerRef: ViewContainerRef,\n    @Optional() private _dir: Directionality,\n    private _changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewInit() {\n    this._checkPopover();\n    this._setCurrentConfig();\n    this.popover.closed.subscribe(() => this.closePopover());\n  }\n\n  ngOnDestroy() {\n    this.destroyPopover();\n  }\n\n  private _setCurrentConfig() {\n    if (this.triggerEvent) {\n      this.popover.triggerEvent = this.triggerEvent;\n    }\n\n    this.popover.setCurrentStyles();\n  }\n\n  /** Whether the popover is open. */\n  get popoverOpen(): boolean {\n    return this._popoverOpen;\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(event: MouseEvent): void {\n    if (this.popover.triggerEvent === 'click') {\n      this.togglePopover();\n    }\n  }\n\n  @HostListener('mouseenter', ['$event'])\n  onMouseEnter(event: MouseEvent): void {\n    this._halt = false;\n    if (this.popover.triggerEvent === 'hover') {\n      this._mouseoverTimer = setTimeout(() => {\n        this.openPopover();\n      }, this.popover.enterDelay);\n    }\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  onMouseLeave(event: MouseEvent): void {\n    if (this.popover.triggerEvent === 'hover') {\n      if (this._mouseoverTimer) {\n        clearTimeout(this._mouseoverTimer);\n        this._mouseoverTimer = null;\n      }\n      if (this._popoverOpen) {\n        setTimeout(() => {\n          if (!this.popover.closeDisabled) {\n            this.closePopover();\n          }\n        }, this.popover.leaveDelay);\n      } else {\n        this._halt = true;\n      }\n    }\n  }\n\n  /** Toggles the popover between the open and closed states. */\n  togglePopover(): void {\n    return this._popoverOpen ? this.closePopover() : this.openPopover();\n  }\n\n  /** Opens the popover. */\n  openPopover(): void {\n    if (!this._popoverOpen && !this._halt) {\n      this._createOverlay().attach(this._portal);\n\n      this._subscribeToBackdrop();\n      this._subscribeToDetachments();\n\n      this._initPopover();\n    }\n  }\n\n  /** Closes the popover. */\n  closePopover(): void {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._resetPopover();\n    }\n\n    this.destroyPopover();\n  }\n\n  /** Removes the popover from the DOM. */\n  destroyPopover(): void {\n    if (this._mouseoverTimer) {\n      clearTimeout(this._mouseoverTimer);\n      this._mouseoverTimer = null;\n    }\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n      this._cleanUpSubscriptions();\n    }\n\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  /** Focuses the popover trigger. */\n  focus() {\n    this._elementRef.nativeElement.focus();\n  }\n\n  /** The text direction of the containing app. */\n  get dir(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /**\n   * This method ensures that the popover closes when the overlay backdrop is clicked.\n   * We do not use first() here because doing so would not catch clicks from within\n   * the popover, and it would fail to unsubscribe properly. Instead, we unsubscribe\n   * explicitly when the popover is closed or destroyed.\n   */\n  private _subscribeToBackdrop(): void {\n    if (this._overlayRef) {\n      /** Only subscribe to backdrop if trigger event is click */\n      if (this.triggerEvent === 'click' && this.popover.closeOnBackdropClick === true) {\n        this._overlayRef\n          .backdropClick()\n          .pipe(takeUntil(this.popoverClosed$), takeUntil(this._onDestroy))\n          .subscribe(() => {\n            this.popover._emitCloseEvent();\n          });\n      }\n    }\n  }\n\n  private _subscribeToDetachments(): void {\n    if (this._overlayRef) {\n      this._overlayRef\n        .detachments()\n        .pipe(takeUntil(this.popoverClosed$), takeUntil(this._onDestroy))\n        .subscribe(() => {\n          this._setPopoverClosed();\n        });\n    }\n  }\n\n  /**\n   * This method sets the popover state to open and focuses the first item if\n   * the popover was opened via the keyboard.\n   */\n  private _initPopover(): void {\n    this._setPopoverOpened();\n  }\n\n  /**\n   * This method resets the popover when it's closed, most importantly restoring\n   * focus to the popover trigger if the popover was opened via the keyboard.\n   */\n  private _resetPopover(): void {\n    this._setPopoverClosed();\n\n    // Focus only needs to be reset to the host element if the popover was opened\n    // by the keyboard and manually shifted to the first popover item.\n    if (!this._openedByMouse) {\n      this.focus();\n    }\n    this._openedByMouse = false;\n  }\n\n  /** set state rather than toggle to support triggers sharing a popover */\n  private _setPopoverOpened(): void {\n    if (!this._popoverOpen) {\n      this._popoverOpen = true;\n\n      this.popoverOpened$.next();\n      this.popoverOpened.emit();\n    }\n  }\n\n  /** set state rather than toggle to support triggers sharing a popover */\n  private _setPopoverClosed(): void {\n    if (this._popoverOpen) {\n      this._popoverOpen = false;\n\n      this.popoverClosed$.next();\n      this.popoverClosed.emit();\n    }\n  }\n\n  /**\n   *  This method checks that a valid instance of MdPopover has been passed into\n   *  mdPopoverTriggerFor. If not, an exception is thrown.\n   */\n  private _checkPopover() {\n    if (!this.popover) {\n      throwMtxPopoverMissingError();\n    }\n  }\n\n  /**\n   *  This method creates the overlay from the provided popover's template and saves its\n   *  OverlayRef so that it can be attached to the DOM when openPopover is called.\n   */\n  private _createOverlay(): OverlayRef {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.popover.templateRef, this._viewContainerRef);\n      const config = this._getOverlayConfig();\n      this._subscribeToPositions(config.positionStrategy as FlexibleConnectedPositionStrategy);\n      this._overlayRef = this._overlay.create(config);\n    }\n\n    return this._overlayRef;\n  }\n\n  /**\n   * This method builds the configuration object needed to create the overlay, the OverlayConfig.\n   * @returns OverlayConfig\n   */\n  private _getOverlayConfig(): OverlayConfig {\n    const overlayState = new OverlayConfig();\n    overlayState.positionStrategy = this._getPosition();\n\n    /** Display overlay backdrop if trigger event is click */\n    if (this.triggerEvent === 'click') {\n      overlayState.hasBackdrop = true;\n      overlayState.backdropClass = 'cdk-overlay-transparent-backdrop';\n    }\n\n    overlayState.direction = this._dir;\n    overlayState.scrollStrategy = this._getOverlayScrollStrategy(this.popover.scrollStrategy);\n\n    return overlayState;\n  }\n\n  /**\n   * This method returns the scroll strategy used by the cdk/overlay.\n   */\n  private _getOverlayScrollStrategy(strategy: MtxPopoverScrollStrategy): ScrollStrategy {\n    switch (strategy) {\n      case 'noop':\n        return this._overlay.scrollStrategies.noop();\n      case 'close':\n        return this._overlay.scrollStrategies.close();\n      case 'block':\n        return this._overlay.scrollStrategies.block();\n      case 'reposition':\n      default:\n        return this._overlay.scrollStrategies.reposition();\n    }\n  }\n\n  /**\n   * Listens to changes in the position of the overlay and sets the correct classes\n   * on the popover based on the new position. This ensures the animation origin is always\n   * correct, even if a fallback position is used for the overlay.\n   */\n  private _subscribeToPositions(position: FlexibleConnectedPositionStrategy): void {\n    this._positionSubscription = position.positionChanges.subscribe(change => {\n      const posX =\n        change.connectionPair.overlayX === 'start'\n          ? 'after'\n          : change.connectionPair.overlayX === 'end'\n          ? 'before'\n          : 'center';\n      const posY =\n        change.connectionPair.overlayY === 'top'\n          ? 'below'\n          : change.connectionPair.overlayY === 'bottom'\n          ? 'above'\n          : 'center';\n\n      const pos: MtxPopoverPosition =\n        this.popover.position[0] === 'above' || this.popover.position[0] === 'below'\n          ? [posY as MtxPopoverPositionStart, posX]\n          : [posX as MtxPopoverPositionStart, posY];\n\n      // required for ChangeDetectionStrategy.OnPush\n      this._changeDetectorRef.markForCheck();\n\n      this.popover.zone.run(() => {\n        this.popover.setCurrentStyles(pos);\n        this.popover.setPositionClasses(pos);\n      });\n    });\n  }\n\n  /**\n   * This method builds the position strategy for the overlay, so the popover is properly connected\n   * to the trigger.\n   * @returns ConnectedPositionStrategy\n   */\n  private _getPosition(): FlexibleConnectedPositionStrategy {\n    const [originX, origin2ndX, origin3rdX]: HorizontalConnectionPos[] =\n      this.popover.position[0] === 'before' || this.popover.position[1] === 'after'\n        ? ['start', 'center', 'end']\n        : this.popover.position[0] === 'after' || this.popover.position[1] === 'before'\n        ? ['end', 'center', 'start']\n        : ['center', 'start', 'end'];\n\n    const [originY, origin2ndY, origin3rdY]: VerticalConnectionPos[] =\n      this.popover.position[0] === 'above' || this.popover.position[1] === 'below'\n        ? ['top', 'center', 'bottom']\n        : this.popover.position[0] === 'below' || this.popover.position[1] === 'above'\n        ? ['bottom', 'center', 'top']\n        : ['center', 'top', 'bottom'];\n\n    const [overlayX, overlayFallbackX]: HorizontalConnectionPos[] =\n      this.popover.position[0] === 'below' || this.popover.position[0] === 'above'\n        ? [originX, originX]\n        : this.popover.position[0] === 'before'\n        ? ['end', 'start']\n        : ['start', 'end'];\n\n    const [overlayY, overlayFallbackY]: VerticalConnectionPos[] =\n      this.popover.position[0] === 'before' || this.popover.position[0] === 'after'\n        ? [originY, originY]\n        : this.popover.position[0] === 'below'\n        ? ['top', 'bottom']\n        : ['bottom', 'top'];\n\n    const originFallbackX = overlayX;\n    const originFallbackY = overlayY;\n\n    const offsetX =\n      this.popover.xOffset && !isNaN(Number(this.popover.xOffset))\n        ? Number(this.dir === 'ltr' ? this.popover.xOffset : -this.popover.xOffset)\n        : 0;\n    const offsetY =\n      this.popover.yOffset && !isNaN(Number(this.popover.yOffset))\n        ? Number(this.popover.yOffset)\n        : 0;\n\n    /**\n     * For overriding position element, when `mtxPopoverTargetAt` has a valid element reference.\n     * Useful for sticking popover to parent element and offsetting arrow to trigger element.\n     * If undefined defaults to the trigger element reference.\n     */\n    let element = this._elementRef;\n    if (typeof this.targetElement !== 'undefined') {\n      this.popover.containerPositioning = true;\n      element = this.targetElement._elementRef;\n    }\n\n    let positions: ConnectedPosition[] = [{ originX, originY, overlayX, overlayY }];\n\n    if (this.popover.position[0] === 'above' || this.popover.position[0] === 'below') {\n      positions = [\n        { originX, originY, overlayX, overlayY, offsetY },\n        { originX: origin2ndX, originY, overlayX: origin2ndX, overlayY, offsetY },\n        { originX: origin3rdX, originY, overlayX: origin3rdX, overlayY, offsetY },\n        {\n          originX,\n          originY: originFallbackY,\n          overlayX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n        {\n          originX: origin2ndX,\n          originY: originFallbackY,\n          overlayX: origin2ndX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n        {\n          originX: origin3rdX,\n          originY: originFallbackY,\n          overlayX: origin3rdX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n      ];\n    }\n\n    if (this.popover.position[0] === 'before' || this.popover.position[0] === 'after') {\n      positions = [\n        { originX, originY, overlayX, overlayY, offsetX },\n        { originX, originY: origin2ndY, overlayX, overlayY: origin2ndY, offsetX },\n        { originX, originY: origin3rdY, overlayX, overlayY: origin3rdY, offsetX },\n        {\n          originX: originFallbackX,\n          originY,\n          overlayX: overlayFallbackX,\n          overlayY,\n          offsetX: -offsetX,\n        },\n        {\n          originX: originFallbackX,\n          originY: origin2ndY,\n          overlayX: overlayFallbackX,\n          overlayY: origin2ndY,\n          offsetX: -offsetX,\n        },\n        {\n          originX: originFallbackX,\n          originY: origin3rdY,\n          overlayX: overlayFallbackX,\n          overlayY: origin3rdY,\n          offsetX: -offsetX,\n        },\n      ];\n    }\n\n    return this._overlay\n      .position()\n      .flexibleConnectedTo(element)\n      .withLockedPosition()\n      .withPositions(positions)\n      .withDefaultOffsetX(offsetX)\n      .withDefaultOffsetY(offsetY);\n  }\n\n  private _cleanUpSubscriptions(): void {\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n    if (this._positionSubscription) {\n      this._positionSubscription.unsubscribe();\n    }\n    if (this._detachmentsSubscription) {\n      this._detachmentsSubscription.unsubscribe();\n    }\n  }\n\n  @HostListener('mousedown', ['$event']) _handleMousedown(event: MouseEvent): void {\n    if (event && !isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n    }\n  }\n}\n","import { Directive, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'mtx-popover-target, [mtxPopoverTarget]',\r\n  exportAs: 'mtxPopoverTarget',\r\n})\r\nexport class MtxPopoverTarget {\r\n  constructor(public _elementRef: ElementRef) {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { A11yModule } from '@angular/cdk/a11y';\r\n\r\nimport { MtxPopover } from './popover';\r\nimport { MtxPopoverTrigger } from './popover-trigger';\r\nimport { MtxPopoverTarget } from './popover-target';\r\n\r\n@NgModule({\r\n  imports: [OverlayModule, CommonModule, A11yModule],\r\n  exports: [MtxPopover, MtxPopoverTrigger, MtxPopoverTarget],\r\n  declarations: [MtxPopover, MtxPopoverTrigger, MtxPopoverTarget],\r\n})\r\nexport class MtxPopoverModule {}\r\n"]}