{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/extensions/column-resize/selectors.ts","../../../projects/extensions/column-resize/polyfill.ts","../../../projects/extensions/column-resize/column-resize.ts","../../../projects/extensions/column-resize/column-resize-notifier.ts","../../../projects/extensions/column-resize/event-dispatcher.ts","../../../projects/extensions/column-resize/resize-strategy.ts","../../../projects/extensions/column-resize/column-resize-directives/constants.ts","../../../projects/extensions/column-resize/column-resize-directives/column-resize.ts","../../../projects/extensions/column-resize/column-resize-directives/column-resize-flex.ts","../../../projects/extensions/column-resize/column-resize-module.ts","../../../projects/extensions/column-resize/column-size-store.ts","../../../projects/extensions/column-resize/resize-ref.ts","../../../projects/extensions/column-resize/resizable.ts","../../../projects/extensions/column-resize/overlay-handle.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","__spread","arguments","length","concat","HEADER_CELL_SELECTOR","HEADER_ROW_SELECTOR","matches","element","selector","closest","Node","curr","Element","parentNode","hasNativeClosest","polyfillClosest","HOVER_OR_ACTIVE_CLASS","nextId","ColumnResize","destroyed","Subject","selectorId","ngAfterViewInit","elementRef","nativeElement","classList","add","getUniqueCssClass","_listenForRowHoverEvents","_listenForResizeActivity","_listenForHoverActivity","ngOnDestroy","complete","setResized","_this","ngZone","runOutsideAngular","fromEvent","pipe","map","event","target","takeUntil","subscribe","eventDispatcher","headerCellHovered","filter","relatedTarget","mapTo","merge","overlayHandleActiveForCell","undefined","notifier","triggerResize","resizeCompleted","take","headerRowHoveredOrActiveDistinct","startWith","pairwise","_a","_b","previousRow","hoveredRow","remove","Directive","resizeCanceled","Injectable","ColumnResizeNotifier","_source","resize","columnId","size","completeImmediately","isStickyColumn","ColumnResizeNotifierSource","HeaderRowEventDispatcher","_ngZone","headerCellHoveredDistinct","distinctUntilChanged","share","combineLatest","cell","skip","hovered","_headerRowHoveredOrActiveDistinctReenterZone","_enterZone","_lastSeenRow","_lastSeenRowHover","resizeOverlayVisibleForHeaderRow","row","source","Observable","observer","run","err","NgZone","ResizeStrategy","_pendingResizeDelta","updateTableWidthAndStickyColumns","delta","tableElement_1","columnResize","tableWidth_1","getElementWidth","styleScheduler","schedule","style","width","coerceCssPixelValue","scheduleEnd","table","updateStickyColumnStyles","TableLayoutFixedResizeStrategy","_super","applyColumnSize","_","columnHeader","sizeInPx","previousSizeInPx","applyMinColumnSize","currentWidth","newWidth","Math","max","applyMaxColumnSize","min","_CoalescedStyleScheduler","decorators","type","Inject","args","_COALESCED_STYLE_SCHEDULER","CdkTable","CdkFlexTableResizeStrategy","document","_columnIndexes","Map","_columnProperties","_indexSequence","defaultMinSize","defaultMaxSize","Number","MAX_SAFE_INTEGER","_document","cssFriendlyColumnName","_getAppliedWidth","offsetWidth","cssSize","_applyProperty","getColumnCssClass","_styleElement","removeChild","_getPropertyValue","key","_getColumnPropertiesMap","get","cssFriendslyColumnName","flexValue","match","enable","properties","set","delete","_applySizeCss","_getStyleSheet","createElement","appendChild","createTextNode","head","sheet","propertyKeys","from","keys","index","deleteRule","columnClassName","body","join","insertRule","cssValue","DOCUMENT","TABLE_LAYOUT_FIXED_RESIZE_STRATEGY_PROVIDER","provide","useClass","FLEX_RESIZE_STRATEGY_PROVIDER","PROVIDERS","TABLE_PROVIDERS","FLEX_PROVIDERS","CdkColumnResize","columnResizeNotifier","providers","useExisting","ElementRef","CdkColumnResizeFlex","NgModule","declarations","exports","origin","overlayRef","minWidthPx","maxWidthPx","OVERLAY_ACTIVE_CLASS","Resizable","isResizable","minWidthPxInternal","maxWidthPxInternal","_viewInitialized","defineProperty","_applyMinWidthPx","_applyMaxWidthPx","_listenForResizeEvents","_appendInlineHandle","inlineHandle","dispose","_createOverlayForHandle","isRtl","directionality","positionStrategy","overlay","position","flexibleConnectedTo","withFlexibleDimensions","withGrowAfterOpen","withPush","withDefaultOffsetX","withPositions","originX","originY","overlayX","overlayY","direction","disposeOnNavigation","scrollStrategy","scrollStrategies","reposition","takeUntilDestroyed","hoveringRow","_showHandleOverlay","detach","resizeNotifier","columnSize","columnDef","name","previousSize","_applySize","_completeResizeOperation","_cleanUpAfterResize","hasAttached","_updateOverlayHandleHeight","updatePosition","focus","_createHandlePortal","injector","Injector","parent","ResizeRef","useValue","ComponentPortal","getOverlayHandleComponentType","viewContainerRef","attach","changeDetectorRef","markForCheck","updateSize","height","offsetHeight","sizeInPixels","sizeToApply","resizeStrategy","cssClassFriendlyName","tabIndex","className","getInlineHandleCssClassName","ResizeOverlayHandle","_listenForMouseEvents","resizeRef","mousedownEvent","_dragStarted","button","mouseup","mousemove","escape","keyCode","ESCAPE","startX","screenX","initialSize","_getOriginWidth","overlayOffset","originOffset","_getOriginOffset","overshot","updateResizeActive","_notifyResizeEnded","prevX","deltaX","remainingOvershot","computedNewSize","_isLtr","sticky","stickyEnd","originNewSize","originNewOffset","originOffsetDeltaX","originSizeDeltaX","_updateOverlayOffset","active","offsetLeft","offset","overlayElement","transform","completedSuccessfully","sizeMessage"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// TODO: Figure out how to remove `mat-` classes from the CDK part of the\n// column resize implementation.\n\nexport const HEADER_CELL_SELECTOR = '.cdk-header-cell, .mat-header-cell';\n\nexport const HEADER_ROW_SELECTOR = '.cdk-header-row, .mat-header-row';\n\nexport const RESIZE_OVERLAY_SELECTOR = '.mat-column-resize-overlay-thumb';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** IE 11 compatible matches implementation. */\nexport function matches(element: Element, selector: string): boolean {\n  return element.matches\n    ? element.matches(selector)\n    : (element as any)['msMatchesSelector'](selector);\n}\n\n/** IE 11 compatible closest implementation that is able to start from non-Element Nodes. */\nexport function closest(\n  element: EventTarget | Element | null | undefined,\n  selector: string\n): Element | null {\n  if (!(element instanceof Node)) {\n    return null;\n  }\n\n  let curr: Node | null = element;\n  while (curr != null && !(curr instanceof Element)) {\n    curr = curr.parentNode;\n  }\n\n  return (\n    curr &&\n    ((hasNativeClosest\n      ? (curr as any).closest(selector)\n      : polyfillClosest(curr as any, selector)) as Element | null)\n  );\n}\n\n/** Polyfill for browsers without Element.closest. */\nfunction polyfillClosest(element: Element, selector: string): Element | null {\n  let curr: Node | null = element;\n  while (curr != null && !(curr instanceof Element && matches(curr, selector))) {\n    curr = curr.parentNode;\n  }\n\n  return (curr || null) as Element | null;\n}\n\nconst hasNativeClosest = !!Element.prototype.closest;\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { AfterViewInit, Directive, ElementRef, NgZone, OnDestroy } from '@angular/core';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { filter, map, mapTo, pairwise, startWith, take, takeUntil } from 'rxjs/operators';\n\nimport { ColumnResizeNotifier, ColumnResizeNotifierSource } from './column-resize-notifier';\nimport { HEADER_CELL_SELECTOR, RESIZE_OVERLAY_SELECTOR } from './selectors';\nimport { HeaderRowEventDispatcher } from './event-dispatcher';\nimport { closest, matches } from './polyfill';\n\nconst HOVER_OR_ACTIVE_CLASS = 'cdk-column-resize-hover-or-active';\nconst WITH_RESIZED_COLUMN_CLASS = 'cdk-column-resize-with-resized-column';\n\nlet nextId = 0;\n\n/**\n * Base class for ColumnResize directives which attach to mat-table elements to\n * provide common events and services for column resizing.\n */\n@Directive()\nexport abstract class ColumnResize implements AfterViewInit, OnDestroy {\n  protected readonly destroyed = new Subject<void>();\n\n  /* Publicly accessible interface for triggering and being notified of resizes. */\n  abstract readonly columnResizeNotifier: ColumnResizeNotifier;\n\n  /* ElementRef that this directive is attached to. Exposed For use by column-level directives */\n  abstract readonly elementRef: ElementRef<HTMLElement>;\n\n  protected abstract readonly eventDispatcher: HeaderRowEventDispatcher;\n  protected abstract readonly ngZone: NgZone;\n  protected abstract readonly notifier: ColumnResizeNotifierSource;\n\n  /** Unique ID for this table instance. */\n  protected readonly selectorId = `${++nextId}`;\n\n  /** The id attribute of the table, if specified. */\n  id?: string;\n\n  ngAfterViewInit() {\n    this.elementRef.nativeElement!.classList.add(this.getUniqueCssClass());\n\n    this._listenForRowHoverEvents();\n    this._listenForResizeActivity();\n    this._listenForHoverActivity();\n  }\n\n  ngOnDestroy() {\n    this.destroyed.next();\n    this.destroyed.complete();\n  }\n\n  /** Gets the unique CSS class name for this table instance. */\n  getUniqueCssClass() {\n    return `cdk-column-resize-${this.selectorId}`;\n  }\n\n  /** Called when a column in the table is resized. Applies a css class to the table element. */\n  setResized() {\n    this.elementRef.nativeElement!.classList.add(WITH_RESIZED_COLUMN_CLASS);\n  }\n\n  private _listenForRowHoverEvents() {\n    this.ngZone.runOutsideAngular(() => {\n      const element = this.elementRef.nativeElement!;\n\n      fromEvent<MouseEvent>(element, 'mouseover')\n        .pipe(\n          map(event => closest(event.target, HEADER_CELL_SELECTOR)),\n          takeUntil(this.destroyed)\n        )\n        .subscribe(this.eventDispatcher.headerCellHovered);\n      fromEvent<MouseEvent>(element, 'mouseleave')\n        .pipe(\n          filter(\n            event =>\n              !!event.relatedTarget &&\n              !matches(event.relatedTarget as Element, RESIZE_OVERLAY_SELECTOR)\n          ),\n          mapTo(null),\n          takeUntil(this.destroyed)\n        )\n        .subscribe(this.eventDispatcher.headerCellHovered);\n    });\n  }\n\n  private _listenForResizeActivity() {\n    merge(\n      this.eventDispatcher.overlayHandleActiveForCell.pipe(mapTo(undefined)),\n      this.notifier.triggerResize.pipe(mapTo(undefined)),\n      this.notifier.resizeCompleted.pipe(mapTo(undefined))\n    )\n      .pipe(take(1), takeUntil(this.destroyed))\n      .subscribe(() => {\n        this.setResized();\n      });\n  }\n\n  private _listenForHoverActivity() {\n    this.eventDispatcher.headerRowHoveredOrActiveDistinct\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroyed))\n      .subscribe(([previousRow, hoveredRow]) => {\n        if (hoveredRow) {\n          hoveredRow.classList.add(HOVER_OR_ACTIVE_CLASS);\n        }\n        if (previousRow) {\n          previousRow.classList.remove(HOVER_OR_ACTIVE_CLASS);\n        }\n      });\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {Observable, Subject} from 'rxjs';\n\n/** Indicates the width of a column. */\nexport interface ColumnSize {\n  /** The ID/name of the column, as defined in CdkColumnDef. */\n  readonly columnId: string;\n\n  /** The width in pixels of the column. */\n  readonly size: number;\n\n  /** The width in pixels of the column prior to this update, if known. */\n  readonly previousSize?: number;\n}\n\n/** Interface describing column size changes. */\nexport interface ColumnSizeAction extends ColumnSize {\n  /**\n   * Whether the resize action should be applied instantaneously. False for events triggered during\n   * a UI-triggered resize (such as with the mouse) until the mouse button is released. True\n   * for all programatically triggered resizes.\n   */\n  readonly completeImmediately?: boolean;\n\n  /**\n   * Whether the resize action is being applied to a sticky/stickyEnd column.\n   */\n  readonly isStickyColumn?: boolean;\n}\n\n/**\n * Originating source of column resize events within a table.\n * @docs-private\n */\n@Injectable()\nexport class ColumnResizeNotifierSource {\n  /** Emits when an in-progress resize is canceled. */\n  readonly resizeCanceled = new Subject<ColumnSizeAction>();\n\n  /** Emits when a resize is applied. */\n  readonly resizeCompleted = new Subject<ColumnSize>();\n\n  /** Triggers a resize action. */\n  readonly triggerResize = new Subject<ColumnSizeAction>();\n}\n\n/** Service for triggering column resizes imperatively or being notified of them. */\n@Injectable()\nexport class ColumnResizeNotifier {\n  /** Emits whenever a column is resized. */\n  readonly resizeCompleted: Observable<ColumnSize> = this._source.resizeCompleted;\n\n  constructor(private readonly _source: ColumnResizeNotifierSource) {}\n\n  /** Instantly resizes the specified column. */\n  resize(columnId: string, size: number): void {\n    this._source.triggerResize.next(\n        {columnId, size, completeImmediately: true, isStickyColumn: true});\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { Injectable, NgZone } from '@angular/core';\nimport { combineLatest, MonoTypeOperatorFunction, Observable, Subject } from 'rxjs';\nimport { distinctUntilChanged, map, share, skip, startWith } from 'rxjs/operators';\nimport { closest } from './polyfill';\n\nimport { HEADER_ROW_SELECTOR } from './selectors';\n\n/** Coordinates events between the column resize directives. */\n@Injectable()\nexport class HeaderRowEventDispatcher {\n  /**\n   * Emits the currently hovered header cell or null when no header cells are hovered.\n   * Exposed publicly for events to feed in, but subscribers should use headerCellHoveredDistinct,\n   * defined below.\n   */\n  readonly headerCellHovered = new Subject<Element | null>();\n\n  /**\n   * Emits the header cell for which a user-triggered resize is active or null\n   * when no resize is in progress.\n   */\n  readonly overlayHandleActiveForCell = new Subject<Element | null>();\n\n  constructor(private readonly _ngZone: NgZone) {}\n\n  /** Distinct and shared version of headerCellHovered. */\n  readonly headerCellHoveredDistinct = this.headerCellHovered.pipe(distinctUntilChanged(), share());\n\n  /**\n   * Emits the header that is currently hovered or hosting an active resize event (with active\n   * taking precedence).\n   */\n  readonly headerRowHoveredOrActiveDistinct = combineLatest(\n    this.headerCellHoveredDistinct.pipe(\n      map(cell => closest(cell, HEADER_ROW_SELECTOR)),\n      startWith(null),\n      distinctUntilChanged()\n    ),\n    this.overlayHandleActiveForCell.pipe(\n      map(cell => closest(cell, HEADER_ROW_SELECTOR)),\n      startWith(null),\n      distinctUntilChanged()\n    )\n  ).pipe(\n    skip(1), // Ignore initial [null, null] emission.\n    map(([hovered, active]) => active || hovered),\n    distinctUntilChanged(),\n    share()\n  );\n\n  private readonly _headerRowHoveredOrActiveDistinctReenterZone = this.headerRowHoveredOrActiveDistinct.pipe(\n    this._enterZone(),\n    share()\n  );\n\n  // Optimization: Share row events observable with subsequent callers.\n  // At startup, calls will be sequential by row (and typically there's only one).\n  private _lastSeenRow: Element | null = null;\n  private _lastSeenRowHover: Observable<boolean> | null = null;\n\n  /**\n   * Emits whether the specified row should show its overlay controls.\n   * Emission occurs within the NgZone.\n   */\n  resizeOverlayVisibleForHeaderRow(row: Element): Observable<boolean> {\n    if (row !== this._lastSeenRow) {\n      this._lastSeenRow = row;\n      this._lastSeenRowHover = this._headerRowHoveredOrActiveDistinctReenterZone.pipe(\n        map(hoveredRow => hoveredRow === row),\n        distinctUntilChanged(),\n        share()\n      );\n    }\n\n    return this._lastSeenRowHover!;\n  }\n\n  private _enterZone<T>(): MonoTypeOperatorFunction<T> {\n    return (source: Observable<T>) =>\n      new Observable<T>(observer =>\n        source.subscribe({\n          next: value => this._ngZone.run(() => observer.next(value)),\n          error: err => observer.error(err),\n          complete: () => observer.complete(),\n        })\n      );\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { Inject, Injectable, OnDestroy, Provider } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { coerceCssPixelValue } from '@angular/cdk/coercion';\nimport { CdkTable, _CoalescedStyleScheduler, _COALESCED_STYLE_SCHEDULER } from '@angular/cdk/table';\n\nimport { ColumnResize } from './column-resize';\n\n/**\n * Provides an implementation for resizing a column.\n * The details of how resizing works for tables for flex mat-tables are quite different.\n */\n@Injectable()\nexport abstract class ResizeStrategy {\n  protected abstract readonly columnResize: ColumnResize;\n  protected abstract readonly styleScheduler: _CoalescedStyleScheduler;\n  protected abstract readonly table: CdkTable<unknown>;\n\n  private _pendingResizeDelta: number | null = null;\n\n  /** Updates the width of the specified column. */\n  abstract applyColumnSize(\n    cssFriendlyColumnName: string,\n    columnHeader: HTMLElement,\n    sizeInPx: number,\n    previousSizeInPx?: number\n  ): void;\n\n  /** Applies a minimum width to the specified column, updating its current width as needed. */\n  abstract applyMinColumnSize(\n    cssFriendlyColumnName: string,\n    columnHeader: HTMLElement,\n    minSizeInPx: number\n  ): void;\n\n  /** Applies a maximum width to the specified column, updating its current width as needed. */\n  abstract applyMaxColumnSize(\n    cssFriendlyColumnName: string,\n    columnHeader: HTMLElement,\n    minSizeInPx: number\n  ): void;\n\n  /** Adjusts the width of the table element by the specified delta. */\n  protected updateTableWidthAndStickyColumns(delta: number): void {\n    if (this._pendingResizeDelta === null) {\n      const tableElement = this.columnResize.elementRef.nativeElement;\n      const tableWidth = getElementWidth(tableElement);\n\n      this.styleScheduler.schedule(() => {\n        tableElement.style.width = coerceCssPixelValue(tableWidth + this._pendingResizeDelta!);\n\n        this._pendingResizeDelta = null;\n      });\n\n      this.styleScheduler.scheduleEnd(() => {\n        this.table.updateStickyColumnStyles();\n      });\n    }\n\n    this._pendingResizeDelta = (this._pendingResizeDelta ?? 0) + delta;\n  }\n}\n\n/**\n * The optimially performing resize strategy for &lt;table&gt; elements with table-layout: fixed.\n * Tested against and outperformed:\n *   CSS selector\n *   CSS selector w/ CSS variable\n *   Updating all cell nodes\n */\n@Injectable()\nexport class TableLayoutFixedResizeStrategy extends ResizeStrategy {\n  constructor(\n    protected readonly columnResize: ColumnResize,\n    @Inject(_COALESCED_STYLE_SCHEDULER)\n    protected readonly styleScheduler: _CoalescedStyleScheduler,\n    protected readonly table: CdkTable<unknown>\n  ) {\n    super();\n  }\n\n  applyColumnSize(\n    _: string,\n    columnHeader: HTMLElement,\n    sizeInPx: number,\n    previousSizeInPx?: number\n  ): void {\n    const delta = sizeInPx - (previousSizeInPx ?? getElementWidth(columnHeader));\n\n    if (delta === 0) {\n      return;\n    }\n\n    this.styleScheduler.schedule(() => {\n      columnHeader.style.width = coerceCssPixelValue(sizeInPx);\n    });\n\n    this.updateTableWidthAndStickyColumns(delta);\n  }\n\n  applyMinColumnSize(_: string, columnHeader: HTMLElement, sizeInPx: number): void {\n    const currentWidth = getElementWidth(columnHeader);\n    const newWidth = Math.max(currentWidth, sizeInPx);\n\n    this.applyColumnSize(_, columnHeader, newWidth, currentWidth);\n  }\n\n  applyMaxColumnSize(_: string, columnHeader: HTMLElement, sizeInPx: number): void {\n    const currentWidth = getElementWidth(columnHeader);\n    const newWidth = Math.min(currentWidth, sizeInPx);\n\n    this.applyColumnSize(_, columnHeader, newWidth, currentWidth);\n  }\n}\n\n/**\n * The optimally performing resize strategy for flex mat-tables.\n * Tested against and outperformed:\n *   CSS selector w/ CSS variable\n *   Updating all mat-cell nodes\n */\n@Injectable()\nexport class CdkFlexTableResizeStrategy extends ResizeStrategy implements OnDestroy {\n  private readonly _document: Document;\n  private readonly _columnIndexes = new Map<string, number>();\n  private readonly _columnProperties = new Map<string, Map<string, string>>();\n\n  private _styleElement?: HTMLStyleElement;\n  private _indexSequence = 0;\n\n  protected readonly defaultMinSize = 0;\n  protected readonly defaultMaxSize = Number.MAX_SAFE_INTEGER;\n\n  constructor(\n    protected readonly columnResize: ColumnResize,\n    @Inject(_COALESCED_STYLE_SCHEDULER)\n    protected readonly styleScheduler: _CoalescedStyleScheduler,\n    protected readonly table: CdkTable<unknown>,\n    @Inject(DOCUMENT) document: any\n  ) {\n    super();\n    this._document = document;\n  }\n\n  applyColumnSize(\n    cssFriendlyColumnName: string,\n    columnHeader: HTMLElement,\n    sizeInPx: number,\n    previousSizeInPx?: number\n  ): void {\n    // Optimization: Check applied width first as we probably set it already before reading\n    // offsetWidth which triggers layout.\n    const delta =\n      sizeInPx -\n      (previousSizeInPx ??\n        (this._getAppliedWidth(cssFriendlyColumnName) || columnHeader.offsetWidth));\n\n    if (delta === 0) {\n      return;\n    }\n\n    const cssSize = coerceCssPixelValue(sizeInPx);\n\n    this._applyProperty(cssFriendlyColumnName, 'flex', `0 0.01 ${cssSize}`);\n    this.updateTableWidthAndStickyColumns(delta);\n  }\n\n  applyMinColumnSize(cssFriendlyColumnName: string, _: HTMLElement, sizeInPx: number): void {\n    const cssSize = coerceCssPixelValue(sizeInPx);\n\n    this._applyProperty(\n      cssFriendlyColumnName,\n      'min-width',\n      cssSize,\n      sizeInPx !== this.defaultMinSize\n    );\n    this.updateTableWidthAndStickyColumns(0);\n  }\n\n  applyMaxColumnSize(cssFriendlyColumnName: string, _: HTMLElement, sizeInPx: number): void {\n    const cssSize = coerceCssPixelValue(sizeInPx);\n\n    this._applyProperty(\n      cssFriendlyColumnName,\n      'max-width',\n      cssSize,\n      sizeInPx !== this.defaultMaxSize\n    );\n    this.updateTableWidthAndStickyColumns(0);\n  }\n\n  protected getColumnCssClass(cssFriendlyColumnName: string): string {\n    return `cdk-column-${cssFriendlyColumnName}`;\n  }\n\n  ngOnDestroy(): void {\n    // TODO: Use remove() once we're off IE11.\n    if (this._styleElement && this._styleElement.parentNode) {\n      this._styleElement.parentNode.removeChild(this._styleElement);\n      this._styleElement = undefined;\n    }\n  }\n\n  private _getPropertyValue(cssFriendlyColumnName: string, key: string): string | undefined {\n    const properties = this._getColumnPropertiesMap(cssFriendlyColumnName);\n    return properties.get(key);\n  }\n\n  private _getAppliedWidth(cssFriendslyColumnName: string): number {\n    return coercePixelsFromFlexValue(this._getPropertyValue(cssFriendslyColumnName, 'flex'));\n  }\n\n  private _applyProperty(\n    cssFriendlyColumnName: string,\n    key: string,\n    value: string,\n    enable = true\n  ): void {\n    const properties = this._getColumnPropertiesMap(cssFriendlyColumnName);\n\n    this.styleScheduler.schedule(() => {\n      if (enable) {\n        properties.set(key, value);\n      } else {\n        properties.delete(key);\n      }\n      this._applySizeCss(cssFriendlyColumnName);\n    });\n  }\n\n  private _getStyleSheet(): CSSStyleSheet {\n    if (!this._styleElement) {\n      this._styleElement = this._document.createElement('style');\n      this._styleElement.appendChild(this._document.createTextNode(''));\n      this._document.head.appendChild(this._styleElement);\n    }\n\n    return this._styleElement.sheet as CSSStyleSheet;\n  }\n\n  private _getColumnPropertiesMap(cssFriendlyColumnName: string): Map<string, string> {\n    let properties = this._columnProperties.get(cssFriendlyColumnName);\n    if (properties === undefined) {\n      properties = new Map<string, string>();\n      this._columnProperties.set(cssFriendlyColumnName, properties);\n    }\n    return properties;\n  }\n\n  private _applySizeCss(cssFriendlyColumnName: string) {\n    const properties = this._getColumnPropertiesMap(cssFriendlyColumnName);\n    const propertyKeys = Array.from(properties.keys());\n\n    let index = this._columnIndexes.get(cssFriendlyColumnName);\n    if (index === undefined) {\n      if (!propertyKeys.length) {\n        // Nothing to set or unset.\n        return;\n      }\n\n      index = this._indexSequence++;\n      this._columnIndexes.set(cssFriendlyColumnName, index);\n    } else {\n      this._getStyleSheet().deleteRule(index);\n    }\n\n    const columnClassName = this.getColumnCssClass(cssFriendlyColumnName);\n    const tableClassName = this.columnResize.getUniqueCssClass();\n\n    const selector = `.${tableClassName} .${columnClassName}`;\n    const body = propertyKeys.map(key => `${key}:${properties.get(key)}`).join(';');\n\n    this._getStyleSheet().insertRule(`${selector} {${body}}`, index!);\n  }\n}\n\n/** Converts CSS pixel values to numbers, eg \"123px\" to 123. Returns NaN for non pixel values. */\nfunction coercePixelsFromCssValue(cssValue: string): number {\n  return Number(cssValue.match(/(\\d+)px/)?.[1]);\n}\n\n/** Gets the style.width pixels on the specified element if present, otherwise its offsetWidth. */\nfunction getElementWidth(element: HTMLElement) {\n  // Optimization: Check style.width first as we probably set it already before reading\n  // offsetWidth which triggers layout.\n  return coercePixelsFromCssValue(element.style.width) || element.offsetWidth;\n}\n\n/**\n * Converts CSS flex values as set in CdkFlexTableResizeStrategy to numbers,\n * eg \"0 0.01 123px\" to 123.\n */\nfunction coercePixelsFromFlexValue(flexValue: string | undefined): number {\n  return Number(flexValue?.match(/0 0\\.01 (\\d+)px/)?.[1]);\n}\n\nexport const TABLE_LAYOUT_FIXED_RESIZE_STRATEGY_PROVIDER: Provider = {\n  provide: ResizeStrategy,\n  useClass: TableLayoutFixedResizeStrategy,\n};\nexport const FLEX_RESIZE_STRATEGY_PROVIDER: Provider = {\n  provide: ResizeStrategy,\n  useClass: CdkFlexTableResizeStrategy,\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Provider} from '@angular/core';\nimport {ColumnResizeNotifier, ColumnResizeNotifierSource} from '../column-resize-notifier';\nimport {HeaderRowEventDispatcher} from '../event-dispatcher';\nimport {\n  TABLE_LAYOUT_FIXED_RESIZE_STRATEGY_PROVIDER,\n  FLEX_RESIZE_STRATEGY_PROVIDER,\n} from '../resize-strategy';\n\nconst PROVIDERS: Provider[] = [\n  ColumnResizeNotifier,\n  HeaderRowEventDispatcher,\n  ColumnResizeNotifierSource,\n];\n\nexport const TABLE_PROVIDERS: Provider[] = [\n  ...PROVIDERS,\n  TABLE_LAYOUT_FIXED_RESIZE_STRATEGY_PROVIDER,\n];\nexport const FLEX_PROVIDERS: Provider[] = [...PROVIDERS, FLEX_RESIZE_STRATEGY_PROVIDER];\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef, NgZone} from '@angular/core';\nimport {CdkTable} from '@angular/cdk/table';\n\nimport {ColumnResize} from '../column-resize';\nimport {ColumnResizeNotifier, ColumnResizeNotifierSource} from '../column-resize-notifier';\nimport {HeaderRowEventDispatcher} from '../event-dispatcher';\nimport {TABLE_PROVIDERS} from './constants';\n\n/**\n * Explicitly enables column resizing for a table-based cdk-table.\n * Individual columns must be annotated specifically.\n */\n@Directive({\n  selector: 'table[cdk-table][columnResize]',\n  providers: [\n    ...TABLE_PROVIDERS,\n    {provide: ColumnResize, useExisting: CdkColumnResize},\n  ],\n})\nexport class CdkColumnResize extends ColumnResize {\n  constructor(\n      readonly columnResizeNotifier: ColumnResizeNotifier,\n      readonly elementRef: ElementRef<HTMLElement>,\n      protected readonly eventDispatcher: HeaderRowEventDispatcher,\n      protected readonly ngZone: NgZone,\n      protected readonly notifier: ColumnResizeNotifierSource,\n      protected readonly table: CdkTable<unknown>) {\n    super();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, ElementRef, NgZone} from '@angular/core';\nimport {CdkTable} from '@angular/cdk/table';\n\nimport {ColumnResize} from '../column-resize';\nimport {ColumnResizeNotifier, ColumnResizeNotifierSource} from '../column-resize-notifier';\nimport {HeaderRowEventDispatcher} from '../event-dispatcher';\nimport {FLEX_PROVIDERS} from './constants';\n\n/**\n * Explicitly enables column resizing for a flexbox-based cdk-table.\n * Individual columns must be annotated specifically.\n */\n@Directive({\n  selector: 'cdk-table[columnResize]',\n  providers: [\n    ...FLEX_PROVIDERS,\n    {provide: ColumnResize, useExisting: CdkColumnResizeFlex},\n  ],\n})\nexport class CdkColumnResizeFlex extends ColumnResize {\n  constructor(\n      readonly columnResizeNotifier: ColumnResizeNotifier,\n      readonly elementRef: ElementRef<HTMLElement>,\n      protected readonly eventDispatcher: HeaderRowEventDispatcher,\n      protected readonly ngZone: NgZone,\n      protected readonly notifier: ColumnResizeNotifierSource,\n      protected readonly table: CdkTable<unknown>) {\n    super();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { CdkColumnResize } from './column-resize-directives/column-resize';\nimport { CdkColumnResizeFlex } from './column-resize-directives/column-resize-flex';\n\n/**\n * One of two NgModules for use with CdkColumnResize.\n * When using this module, columns are not resizable by default.\n */\n@NgModule({\n  declarations: [CdkColumnResize, CdkColumnResizeFlex],\n  exports: [CdkColumnResize, CdkColumnResizeFlex],\n})\nexport class CdkColumnResizeModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\n\n/**\n * Can be provided by the host application to enable persistence of column resize state.\n */\n@Injectable()\nexport abstract class ColumnSizeStore {\n  /** Returns the persisted size of the specified column in the specified table. */\n  abstract getSize(tableId: string, columnId: string): number;\n\n  /** Persists the size of the specified column in the specified table. */\n  abstract setSize(tableId: string, columnId: string): void;\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ElementRef} from '@angular/core';\nimport {OverlayRef} from '@angular/cdk/overlay';\n\n/** Tracks state of resize events in progress. */\nexport class ResizeRef {\n  constructor(\n      readonly origin: ElementRef,\n      readonly overlayRef: OverlayRef,\n      readonly minWidthPx: number,\n      readonly maxWidthPx: number, ) {}\n}\n","import {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  Injector,\n  NgZone,\n  OnDestroy,\n  Type,\n  ViewContainerRef,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { CdkColumnDef, _CoalescedStyleScheduler } from '@angular/cdk/table';\nimport { merge, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n\nimport { HEADER_ROW_SELECTOR } from './selectors';\nimport { ResizeOverlayHandle } from './overlay-handle';\nimport { ColumnResize } from './column-resize';\nimport { ColumnSizeAction, ColumnResizeNotifierSource } from './column-resize-notifier';\nimport { HeaderRowEventDispatcher } from './event-dispatcher';\nimport { ResizeRef } from './resize-ref';\nimport { ResizeStrategy } from './resize-strategy';\nimport { closest } from './polyfill';\n\nconst OVERLAY_ACTIVE_CLASS = 'cdk-resizable-overlay-thumb-active';\n\n/**\n * Base class for Resizable directives which are applied to column headers to make those columns\n * resizable.\n */\n@Directive()\nexport abstract class Resizable<HandleComponent extends ResizeOverlayHandle>\n  implements AfterViewInit, OnDestroy {\n  protected isResizable = true;\n\n  protected minWidthPxInternal: number = 0;\n  protected maxWidthPxInternal: number = Number.MAX_SAFE_INTEGER;\n\n  protected inlineHandle?: HTMLElement;\n  protected overlayRef?: OverlayRef;\n  protected readonly destroyed = new Subject<void>();\n\n  protected abstract readonly columnDef: CdkColumnDef;\n  protected abstract readonly columnResize: ColumnResize;\n  protected abstract readonly directionality: Directionality;\n  protected abstract readonly document: Document;\n  protected abstract readonly elementRef: ElementRef;\n  protected abstract readonly eventDispatcher: HeaderRowEventDispatcher;\n  protected abstract readonly injector: Injector;\n  protected abstract readonly ngZone: NgZone;\n  protected abstract readonly overlay: Overlay;\n  protected abstract readonly resizeNotifier: ColumnResizeNotifierSource;\n  protected abstract readonly resizeStrategy: ResizeStrategy;\n  protected abstract readonly styleScheduler: _CoalescedStyleScheduler;\n  protected abstract readonly viewContainerRef: ViewContainerRef;\n  protected abstract readonly changeDetectorRef: ChangeDetectorRef;\n\n  private _viewInitialized = false;\n\n  /** The minimum width to allow the column to be sized to. */\n  get minWidthPx(): number {\n    return this.minWidthPxInternal;\n  }\n  set minWidthPx(value: number) {\n    if (value) {\n      this.minWidthPxInternal = value;\n    }\n\n    this.columnResize.setResized();\n    if (this.elementRef.nativeElement && this._viewInitialized) {\n      this._applyMinWidthPx();\n    }\n  }\n\n  /** The maximum width to allow the column to be sized to. */\n  get maxWidthPx(): number {\n    return this.maxWidthPxInternal;\n  }\n  set maxWidthPx(value: number) {\n    if (value) {\n      this.maxWidthPxInternal = value;\n    }\n\n    this.columnResize.setResized();\n    if (this.elementRef.nativeElement && this._viewInitialized) {\n      this._applyMaxWidthPx();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.isResizable) {\n      this._listenForRowHoverEvents();\n      this._listenForResizeEvents();\n      this._appendInlineHandle();\n\n      this.styleScheduler.scheduleEnd(() => {\n        this._viewInitialized = true;\n        this._applyMinWidthPx();\n        this._applyMaxWidthPx();\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed.next();\n    this.destroyed.complete();\n\n    if (this.inlineHandle) {\n      this.elementRef.nativeElement!.removeChild(this.inlineHandle);\n    }\n\n    if (this.overlayRef) {\n      this.overlayRef.dispose();\n    }\n  }\n\n  protected abstract getInlineHandleCssClassName(): string;\n\n  protected abstract getOverlayHandleComponentType(): Type<HandleComponent>;\n\n  private _createOverlayForHandle(): OverlayRef {\n    // Use of overlays allows us to properly capture click events spanning parts\n    // of two table cells and is also useful for displaying a resize thumb\n    // over both cells and extending it down the table as needed.\n\n    const isRtl = this.directionality.value === 'rtl';\n    const positionStrategy = this.overlay\n      .position()\n      .flexibleConnectedTo(this.elementRef.nativeElement!)\n      .withFlexibleDimensions(false)\n      .withGrowAfterOpen(false)\n      .withPush(false)\n      .withDefaultOffsetX(isRtl ? 1 : 0)\n      .withPositions([\n        {\n          originX: isRtl ? 'start' : 'end',\n          originY: 'top',\n          overlayX: 'center',\n          overlayY: 'top',\n        },\n      ]);\n\n    return this.overlay.create({\n      // Always position the overlay based on left-indexed coordinates.\n      direction: 'ltr',\n      disposeOnNavigation: true,\n      positionStrategy,\n      scrollStrategy: this.overlay.scrollStrategies.reposition(),\n      width: '16px',\n    });\n  }\n\n  private _listenForRowHoverEvents(): void {\n    const element = this.elementRef.nativeElement!;\n    const takeUntilDestroyed = takeUntil<boolean>(this.destroyed);\n\n    this.eventDispatcher\n      .resizeOverlayVisibleForHeaderRow(closest(element, HEADER_ROW_SELECTOR)!)\n      .pipe(takeUntilDestroyed)\n      .subscribe(hoveringRow => {\n        if (hoveringRow) {\n          if (!this.overlayRef) {\n            this.overlayRef = this._createOverlayForHandle();\n          }\n\n          this._showHandleOverlay();\n        } else if (this.overlayRef) {\n          // todo - can't detach during an active resize - need to work that out\n          this.overlayRef.detach();\n        }\n      });\n  }\n\n  private _listenForResizeEvents() {\n    const takeUntilDestroyed = takeUntil<ColumnSizeAction>(this.destroyed);\n\n    merge(this.resizeNotifier.resizeCanceled, this.resizeNotifier.triggerResize)\n      .pipe(\n        takeUntilDestroyed,\n        filter(columnSize => columnSize.columnId === this.columnDef.name)\n      )\n      .subscribe(({ size, previousSize, completeImmediately }) => {\n        this.elementRef.nativeElement!.classList.add(OVERLAY_ACTIVE_CLASS);\n        this._applySize(size, previousSize);\n\n        if (completeImmediately) {\n          this._completeResizeOperation();\n        }\n      });\n\n    merge(this.resizeNotifier.resizeCanceled, this.resizeNotifier.resizeCompleted)\n      .pipe(takeUntilDestroyed)\n      .subscribe(columnSize => {\n        this._cleanUpAfterResize(columnSize);\n      });\n  }\n\n  private _completeResizeOperation(): void {\n    this.ngZone.run(() => {\n      this.resizeNotifier.resizeCompleted.next({\n        columnId: this.columnDef.name,\n        size: this.elementRef.nativeElement!.offsetWidth,\n      });\n    });\n  }\n\n  private _cleanUpAfterResize(columnSize: ColumnSizeAction): void {\n    this.elementRef.nativeElement!.classList.remove(OVERLAY_ACTIVE_CLASS);\n\n    if (this.overlayRef && this.overlayRef.hasAttached()) {\n      this._updateOverlayHandleHeight();\n      this.overlayRef.updatePosition();\n\n      if (columnSize.columnId === this.columnDef.name) {\n        this.inlineHandle!.focus();\n      }\n    }\n  }\n\n  private _createHandlePortal(): ComponentPortal<HandleComponent> {\n    const injector = Injector.create({\n      parent: this.injector,\n      providers: [\n        {\n          provide: ResizeRef,\n          useValue: new ResizeRef(\n            this.elementRef,\n            this.overlayRef!,\n            this.minWidthPx,\n            this.maxWidthPx\n          ),\n        },\n      ],\n    });\n\n    return new ComponentPortal(\n      this.getOverlayHandleComponentType(),\n      this.viewContainerRef,\n      injector\n    );\n  }\n\n  private _showHandleOverlay(): void {\n    this._updateOverlayHandleHeight();\n    this.overlayRef!.attach(this._createHandlePortal());\n\n    // Needed to ensure that all of the lifecycle hooks inside the overlay run immediately.\n    this.changeDetectorRef.markForCheck();\n  }\n\n  private _updateOverlayHandleHeight() {\n    this.overlayRef!.updateSize({ height: this.elementRef.nativeElement!.offsetHeight });\n  }\n\n  private _applySize(sizeInPixels: number, previousSize?: number): void {\n    const sizeToApply = Math.min(Math.max(sizeInPixels, this.minWidthPx, 0), this.maxWidthPx);\n\n    this.resizeStrategy.applyColumnSize(\n      this.columnDef.cssClassFriendlyName,\n      this.elementRef.nativeElement!,\n      sizeToApply,\n      previousSize\n    );\n  }\n\n  private _applyMinWidthPx(): void {\n    this.resizeStrategy.applyMinColumnSize(\n      this.columnDef.cssClassFriendlyName,\n      this.elementRef.nativeElement,\n      this.minWidthPx\n    );\n  }\n\n  private _applyMaxWidthPx(): void {\n    this.resizeStrategy.applyMaxColumnSize(\n      this.columnDef.cssClassFriendlyName,\n      this.elementRef.nativeElement,\n      this.maxWidthPx\n    );\n  }\n\n  private _appendInlineHandle(): void {\n    this.styleScheduler.schedule(() => {\n      this.inlineHandle = this.document.createElement('div');\n      this.inlineHandle.tabIndex = 0;\n      this.inlineHandle.className = this.getInlineHandleCssClassName();\n\n      // TODO: Apply correct aria role (probably slider) after a11y spec questions resolved.\n\n      this.elementRef.nativeElement!.appendChild(this.inlineHandle);\n    });\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { AfterViewInit, Directive, ElementRef, OnDestroy, NgZone } from '@angular/core';\nimport { coerceCssPixelValue } from '@angular/cdk/coercion';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { CdkColumnDef, _CoalescedStyleScheduler } from '@angular/cdk/table';\nimport { fromEvent, Subject, merge } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  mapTo,\n  pairwise,\n  startWith,\n  takeUntil,\n} from 'rxjs/operators';\n\nimport { HEADER_CELL_SELECTOR } from './selectors';\nimport { ColumnResizeNotifierSource } from './column-resize-notifier';\nimport { HeaderRowEventDispatcher } from './event-dispatcher';\nimport { ResizeRef } from './resize-ref';\nimport { closest } from './polyfill';\n\n// TODO: Take another look at using cdk drag drop. IIRC I ran into a couple\n// good reasons for not using it but I don't remember what they were at this point.\n/**\n * Base class for a component shown over the edge of a resizable column that is responsible\n * for handling column resize mouse events and displaying any visible UI on the column edge.\n */\n@Directive()\nexport abstract class ResizeOverlayHandle implements AfterViewInit, OnDestroy {\n  protected readonly destroyed = new Subject<void>();\n\n  protected abstract readonly columnDef: CdkColumnDef;\n  protected abstract readonly document: Document;\n  protected abstract readonly directionality: Directionality;\n  protected abstract readonly elementRef: ElementRef;\n  protected abstract readonly eventDispatcher: HeaderRowEventDispatcher;\n  protected abstract readonly ngZone: NgZone;\n  protected abstract readonly resizeNotifier: ColumnResizeNotifierSource;\n  protected abstract readonly resizeRef: ResizeRef;\n  protected abstract readonly styleScheduler: _CoalescedStyleScheduler;\n\n  ngAfterViewInit() {\n    this._listenForMouseEvents();\n  }\n\n  ngOnDestroy() {\n    this.destroyed.next();\n    this.destroyed.complete();\n  }\n\n  private _listenForMouseEvents() {\n    this.ngZone.runOutsideAngular(() => {\n      fromEvent<MouseEvent>(this.elementRef.nativeElement!, 'mouseenter')\n        .pipe(mapTo(this.resizeRef.origin.nativeElement!), takeUntil(this.destroyed))\n        .subscribe(cell => this.eventDispatcher.headerCellHovered.next(cell));\n\n      fromEvent<MouseEvent>(this.elementRef.nativeElement!, 'mouseleave')\n        .pipe(\n          map(\n            event =>\n              event.relatedTarget && closest(event.relatedTarget as Element, HEADER_CELL_SELECTOR)\n          ),\n          takeUntil(this.destroyed)\n        )\n        .subscribe(cell => this.eventDispatcher.headerCellHovered.next(cell));\n\n      fromEvent<MouseEvent>(this.elementRef.nativeElement!, 'mousedown')\n        .pipe(takeUntil(this.destroyed))\n        .subscribe(mousedownEvent => {\n          this._dragStarted(mousedownEvent);\n        });\n    });\n  }\n\n  private _dragStarted(mousedownEvent: MouseEvent) {\n    // Only allow dragging using the left mouse button.\n    if (mousedownEvent.button !== 0) {\n      return;\n    }\n\n    const mouseup = fromEvent<MouseEvent>(this.document, 'mouseup');\n    const mousemove = fromEvent<MouseEvent>(this.document, 'mousemove');\n    const escape = fromEvent<KeyboardEvent>(this.document, 'keyup').pipe(\n      filter(event => event.keyCode === ESCAPE)\n    );\n\n    const startX = mousedownEvent.screenX;\n\n    const initialSize = this._getOriginWidth();\n    let overlayOffset = 0;\n    let originOffset = this._getOriginOffset();\n    let size = initialSize;\n    let overshot = 0;\n\n    this.updateResizeActive(true);\n\n    mouseup.pipe(takeUntil(merge(escape, this.destroyed))).subscribe(({ screenX }) => {\n      this.styleScheduler.scheduleEnd(() => {\n        this._notifyResizeEnded(size, screenX !== startX);\n      });\n    });\n\n    escape.pipe(takeUntil(merge(mouseup, this.destroyed))).subscribe(() => {\n      this._notifyResizeEnded(initialSize);\n    });\n\n    mousemove\n      .pipe(\n        map(({ screenX }) => screenX),\n        startWith(startX),\n        distinctUntilChanged(),\n        pairwise(),\n        takeUntil(merge(mouseup, escape, this.destroyed))\n      )\n      .subscribe(([prevX, currX]) => {\n        let deltaX = currX - prevX;\n\n        // If the mouse moved further than the resize was able to match, limit the\n        // movement of the overlay to match the actual size and position of the origin.\n        if (overshot !== 0) {\n          if ((overshot < 0 && deltaX < 0) || (overshot > 0 && deltaX > 0)) {\n            overshot += deltaX;\n            return;\n          } else {\n            const remainingOvershot = overshot + deltaX;\n            overshot =\n              overshot > 0 ? Math.max(remainingOvershot, 0) : Math.min(remainingOvershot, 0);\n            deltaX = remainingOvershot - overshot;\n\n            if (deltaX === 0) {\n              return;\n            }\n          }\n        }\n\n        let computedNewSize: number = size + (this._isLtr() ? deltaX : -deltaX);\n        computedNewSize = Math.min(\n          Math.max(computedNewSize, this.resizeRef.minWidthPx, 0),\n          this.resizeRef.maxWidthPx\n        );\n\n        this.resizeNotifier.triggerResize.next({\n          columnId: this.columnDef.name,\n          size: computedNewSize,\n          previousSize: size,\n          isStickyColumn: this.columnDef.sticky || this.columnDef.stickyEnd,\n        });\n\n        this.styleScheduler.scheduleEnd(() => {\n          const originNewSize = this._getOriginWidth();\n          const originNewOffset = this._getOriginOffset();\n          const originOffsetDeltaX = originNewOffset - originOffset;\n          const originSizeDeltaX = originNewSize - size;\n          size = originNewSize;\n          originOffset = originNewOffset;\n\n          overshot += deltaX + (this._isLtr() ? -originSizeDeltaX : originSizeDeltaX);\n          overlayOffset += originOffsetDeltaX + (this._isLtr() ? originSizeDeltaX : 0);\n\n          this._updateOverlayOffset(overlayOffset);\n        });\n      });\n  }\n\n  protected updateResizeActive(active: boolean): void {\n    this.eventDispatcher.overlayHandleActiveForCell.next(\n      active ? this.resizeRef.origin.nativeElement! : null\n    );\n  }\n\n  private _getOriginWidth(): number {\n    return this.resizeRef.origin.nativeElement!.offsetWidth;\n  }\n\n  private _getOriginOffset(): number {\n    return this.resizeRef.origin.nativeElement!.offsetLeft;\n  }\n\n  private _updateOverlayOffset(offset: number): void {\n    this.resizeRef.overlayRef.overlayElement.style.transform = `translateX(${coerceCssPixelValue(\n      offset\n    )})`;\n  }\n\n  private _isLtr(): boolean {\n    return this.directionality.value === 'ltr';\n  }\n\n  private _notifyResizeEnded(size: number, completedSuccessfully = false): void {\n    this.updateResizeActive(false);\n\n    this.ngZone.run(() => {\n      const sizeMessage = { columnId: this.columnDef.name, size };\n      if (completedSuccessfully) {\n        this.resizeNotifier.resizeCompleted.next(sizeMessage);\n      } else {\n        this.resizeNotifier.resizeCanceled.next(sizeMessage);\n      }\n    });\n  }\n}\n"]}