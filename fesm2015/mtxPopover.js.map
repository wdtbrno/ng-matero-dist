{"version":3,"file":"mtxPopover.js","sources":["../../../projects/extensions/popover/popover-errors.ts","../../../projects/extensions/popover/popover-animations.ts","../../../projects/extensions/popover/popover.ts","../../../projects/extensions/popover/popover-trigger.ts","../../../projects/extensions/popover/popover-target.ts","../../../projects/extensions/popover/popover-module.ts","../../../projects/extensions/popover/mtxPopover.ts"],"sourcesContent":["/**\n * Throws an exception for the case when popover trigger doesn't have a valid mtx-popover instance\n */\nexport function throwMtxPopoverMissingError() {\n  throw Error(`mtx-popover-trigger: must pass in an mtx-popover instance.\n\n    Example:\n      <mtx-popover #popover=\"mtxPopover\"></mtx-popover>\n      <button [mtxPopoverTriggerFor]=\"popover\"></button>`);\n}\n\n/**\n * Throws an exception for the case when popover's mtxPopoverPosition[0] value isn't valid.\n * In other words, it doesn't match 'above', 'below', 'before' or 'after'.\n */\nexport function throwMtxPopoverInvalidPositionStart() {\n  throw Error(`mtxPopoverPosition[0] value must be either 'above', 'below', 'before' or 'after'.\n    Example: <mtx-popover [position]=\"['below', 'after']\" #popover=\"mtxPopover\"></mtx-popover>`);\n}\n\n/**\n * Throws an exception for the case when popover's mtxPopoverPosition[1] value isn't valid.\n * In other words, it doesn't match 'above', 'below', 'before', 'after' or 'center'.\n */\nexport function throwMtxPopoverInvalidPositionEnd() {\n  throw Error(`mtxPopoverPosition[1] value must be either 'above', 'below', 'before', 'after' or 'center'.\n    Example: <mtx-popover [position]=\"['below', 'after']\" #popover=\"mtxPopover\"></mtx-popover>`);\n}\n","import {\r\n  trigger,\r\n  state,\r\n  style,\r\n  animate,\r\n  transition,\r\n  AnimationTriggerMetadata,\r\n} from '@angular/animations';\r\n\r\n/**\r\n * Below are all the animations for the md-popover component.\r\n * Animation duration and timing values are based on AngularJS Material.\r\n */\r\n\r\n/**\r\n * This animation controls the popover panel's entry and exit from the page.\r\n *\r\n * When the popover panel is added to the DOM, it scales in and fades in its border.\r\n *\r\n * When the popover panel is removed from the DOM, it simply fades out after a brief\r\n * delay to display the ripple.\r\n */\r\n\r\nexport const transformPopover: AnimationTriggerMetadata = trigger('transformPopover', [\r\n  state(\r\n    'enter',\r\n    style({\r\n      opacity: 1,\r\n      transform: `scale(1)`,\r\n    })\r\n  ),\r\n  transition('void => *', [\r\n    style({\r\n      opacity: 0,\r\n      transform: `scale(0)`,\r\n    }),\r\n    animate(`200ms cubic-bezier(0.25, 0.8, 0.25, 1)`),\r\n  ]),\r\n  transition('* => void', [animate('50ms 100ms linear', style({ opacity: 0 }))]),\r\n]);\r\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  ElementRef,\n  ChangeDetectionStrategy,\n  HostBinding,\n  NgZone,\n  Optional,\n} from '@angular/core';\nimport { AnimationEvent } from '@angular/animations';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { Directionality } from '@angular/cdk/bidi';\n\nimport {\n  MtxPopoverTriggerEvent,\n  MtxPopoverScrollStrategy,\n  MtxPopoverPosition,\n} from './popover-types';\nimport {\n  throwMtxPopoverInvalidPositionStart,\n  throwMtxPopoverInvalidPositionEnd,\n} from './popover-errors';\nimport { MtxPopoverPanel } from './popover-interfaces';\nimport { transformPopover } from './popover-animations';\n\n@Component({\n  selector: 'mtx-popover',\n  templateUrl: './popover.html',\n  styleUrls: ['./popover.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  animations: [transformPopover],\n  exportAs: 'mtxPopover',\n})\nexport class MtxPopover implements MtxPopoverPanel, OnDestroy {\n  @HostBinding('attr.role') role = 'dialog';\n\n  /** Settings for popover, view setters and getters for more detail */\n  private _position: MtxPopoverPosition = ['below', 'after'];\n  private _triggerEvent: MtxPopoverTriggerEvent = 'hover';\n  private _scrollStrategy: MtxPopoverScrollStrategy = 'reposition';\n  private _enterDelay = 100;\n  private _leaveDelay = 100;\n  private _panelOffsetX = 0;\n  private _panelOffsetY = 0;\n  private _closeOnPanelClick = false;\n  private _closeOnBackdropClick = true;\n  private _disableAnimation = false;\n  private _focusTrapEnabled = true;\n  private _focusTrapAutoCaptureEnabled = true;\n  private _arrowOffsetX = 20;\n  private _arrowOffsetY = 20;\n  private _arrowWidth = 16;\n  private _arrowHeight = 16;\n\n  /** Config object to be passed into the popover's ngClass */\n  _classList: { [key: string]: boolean } = {};\n\n  /** Whether popover's `targetElement` is defined */\n  public containerPositioning = false;\n\n  /** Closing disabled on popover */\n  public closeDisabled = false;\n\n  /** Config object to be passed into the popover's arrow ngStyle */\n  public popoverPanelStyles: {};\n\n  /** Config object to be passed into the popover's arrow ngStyle */\n  public popoverArrowStyles: {};\n\n  /** Config object to be passed into the popover's content ngStyle */\n  public popoverContentStyles: {};\n\n  /** Emits the current animation state whenever it changes. */\n  _onAnimationStateChange = new EventEmitter<AnimationEvent>();\n\n  /** Position of the popover. */\n  @Input()\n  get position() {\n    return this._position;\n  }\n  set position(value: MtxPopoverPosition) {\n    if (!['before', 'after', 'above', 'below'].includes(value[0])) {\n      throwMtxPopoverInvalidPositionStart();\n    }\n    if (!['before', 'after', 'above', 'below', 'center'].includes(value[1])) {\n      throwMtxPopoverInvalidPositionEnd();\n    }\n    this._position = value;\n    this.setPositionClasses();\n  }\n\n  /** Popover trigger event */\n  @Input()\n  get triggerEvent(): MtxPopoverTriggerEvent {\n    return this._triggerEvent;\n  }\n  set triggerEvent(value: MtxPopoverTriggerEvent) {\n    this._triggerEvent = value;\n  }\n\n  /** Popover scroll strategy */\n  @Input()\n  get scrollStrategy(): MtxPopoverScrollStrategy {\n    return this._scrollStrategy;\n  }\n  set scrollStrategy(value: MtxPopoverScrollStrategy) {\n    this._scrollStrategy = value;\n  }\n\n  /** Popover enter delay */\n  @Input()\n  get enterDelay(): number {\n    return this._enterDelay;\n  }\n  set enterDelay(value: number) {\n    this._enterDelay = value;\n  }\n\n  /** Popover leave delay */\n  @Input()\n  get leaveDelay(): number {\n    return this._leaveDelay;\n  }\n  set leaveDelay(value: number) {\n    this._leaveDelay = value;\n  }\n\n  /** Popover target offset x */\n  @Input()\n  get xOffset(): number {\n    return this._panelOffsetX;\n  }\n  set xOffset(value: number) {\n    this._panelOffsetX = value;\n  }\n\n  /** Popover target offset y */\n  @Input()\n  get yOffset(): number {\n    return this._panelOffsetY;\n  }\n  set yOffset(value: number) {\n    this._panelOffsetY = value;\n  }\n\n  /** Popover arrow offset x */\n  @Input()\n  get arrowOffsetX(): number {\n    return this._arrowOffsetX;\n  }\n  set arrowOffsetX(value: number) {\n    this._arrowOffsetX = value;\n  }\n\n  /** Popover arrow offset y */\n  @Input()\n  get arrowOffsetY(): number {\n    return this._arrowOffsetY;\n  }\n  set arrowOffsetY(value: number) {\n    this._arrowOffsetY = value;\n  }\n\n  /** Popover arrow width */\n  @Input()\n  get arrowWidth(): number {\n    return this._arrowWidth;\n  }\n  set arrowWidth(value: number) {\n    this._arrowWidth = value;\n  }\n\n  /** Popover arrow height */\n  @Input()\n  get arrowHeight(): number {\n    return this._arrowHeight;\n  }\n  set arrowHeight(value: number) {\n    this._arrowHeight = value;\n  }\n\n  /** Popover close on container click */\n  @Input()\n  get closeOnPanelClick(): boolean {\n    return this._closeOnPanelClick;\n  }\n  set closeOnPanelClick(value: boolean) {\n    this._closeOnPanelClick = coerceBooleanProperty(value);\n  }\n\n  /** Popover close on backdrop click */\n  @Input()\n  get closeOnBackdropClick(): boolean {\n    return this._closeOnBackdropClick;\n  }\n  set closeOnBackdropClick(value: boolean) {\n    this._closeOnBackdropClick = coerceBooleanProperty(value);\n  }\n\n  /** Disable animations of popover and all child elements */\n  @Input()\n  get disableAnimation(): boolean {\n    return this._disableAnimation;\n  }\n  set disableAnimation(value: boolean) {\n    this._disableAnimation = coerceBooleanProperty(value);\n  }\n\n  /** Popover focus trap using cdkTrapFocus */\n  @Input()\n  get focusTrapEnabled(): boolean {\n    return this._focusTrapEnabled;\n  }\n  set focusTrapEnabled(value: boolean) {\n    this._focusTrapEnabled = coerceBooleanProperty(value);\n  }\n\n  /** Popover focus trap auto capture using cdkTrapFocusAutoCapture */\n  @Input()\n  get focusTrapAutoCaptureEnabled(): boolean {\n    return this._focusTrapAutoCaptureEnabled;\n  }\n  set focusTrapAutoCaptureEnabled(value: boolean) {\n    this._focusTrapAutoCaptureEnabled = coerceBooleanProperty(value);\n  }\n\n  /**\n   * This method takes classes set on the host md-popover element and applies them on the\n   * popover template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing popover from outside the component.\n   * @param classes list of class names\n   */\n  @Input('class')\n  set panelClass(classes: string) {\n    if (classes && classes.length) {\n      this._classList = classes.split(' ').reduce((obj: any, className: string) => {\n        obj[className] = true;\n        return obj;\n      }, {});\n\n      this._elementRef.nativeElement.className = '';\n      this.setPositionClasses();\n    }\n  }\n\n  /**\n   * This method takes classes set on the host md-popover element and applies them on the\n   * popover template that displays in the overlay container.  Otherwise, it's difficult\n   * to style the containing popover from outside the component.\n   * @deprecated Use `panelClass` instead.\n   * @breaking-change 8.0.0\n   */\n  @Input()\n  get classList(): string {\n    return this.panelClass;\n  }\n  set classList(classes: string) {\n    this.panelClass = classes;\n  }\n\n  /** Event emitted when the popover is closed. */\n  @Output() closed = new EventEmitter<void>();\n\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  constructor(\n    @Optional() private _dir: Directionality,\n    private _elementRef: ElementRef,\n    public zone: NgZone\n  ) {\n    this.setPositionClasses();\n  }\n\n  ngOnDestroy() {\n    this._emitCloseEvent();\n    this.closed.complete();\n  }\n\n  /** Handle a keyboard event from the popover, delegating to the appropriate action. */\n  _handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case ESCAPE:\n        this._emitCloseEvent();\n        return;\n    }\n  }\n\n  /**\n   * This emits a close event to which the trigger is subscribed. When emitted, the\n   * trigger will close the popover.\n   */\n  _emitCloseEvent(): void {\n    this.closed.emit();\n  }\n\n  /** Close popover on click if closeOnPanelClick is true */\n  onClick() {\n    if (this.closeOnPanelClick) {\n      this._emitCloseEvent();\n    }\n  }\n\n  /**\n   * TODO: Refactor when @angular/cdk includes feature I mentioned on github see link below.\n   * https://github.com/angular/material2/pull/5493#issuecomment-313085323\n   */\n  /** Disables close of popover when leaving trigger element and mouse over the popover */\n  onMouseOver() {\n    if (this.triggerEvent === 'hover') {\n      this.closeDisabled = true;\n    }\n  }\n  /** Enables close of popover when mouse leaving popover element */\n  onMouseLeave() {\n    if (this.triggerEvent === 'hover') {\n      this.closeDisabled = false;\n      this._emitCloseEvent();\n    }\n  }\n\n  // TODO: Refactor how styles are set and updated on the component, use best practices.\n  // TODO: If arrow left and right positioning is requested, see if flex direction can be used to work with order.\n  /** Sets the current styles for the popover to allow for dynamically changing settings */\n  setCurrentStyles(pos = this.position) {\n    const left =\n      pos[1] === 'after'\n        ? `${this.arrowOffsetX - this.arrowWidth / 2}px`\n        : pos[1] === 'center'\n        ? `calc(50% - ${this.arrowWidth / 2}px)`\n        : '';\n    const right = pos[1] === 'before' ? `${this.arrowOffsetX - this.arrowWidth / 2}px` : '';\n\n    const bottom =\n      pos[1] === 'above'\n        ? `${this.arrowOffsetY - this.arrowHeight / 2}px`\n        : pos[1] === 'center'\n        ? `calc(50% - ${this.arrowHeight / 2}px)`\n        : '';\n    const top = pos[1] === 'below' ? `${this.arrowOffsetY - this.arrowHeight / 2}px` : '';\n\n    this.popoverArrowStyles =\n      pos[0] === 'above' || pos[0] === 'below'\n        ? {\n            left: this._dir.value === 'ltr' ? left : right,\n            right: this._dir.value === 'ltr' ? right : left,\n          }\n        : {\n            top,\n            bottom,\n          };\n  }\n\n  /**\n   * It's necessary to set position-based classes to ensure the popover panel animation\n   * folds out from the correct direction.\n   */\n  setPositionClasses(pos = this.position): void {\n    this._classList['mtx-popover-before-above'] = pos[0] === 'before' && pos[1] === 'above';\n    this._classList['mtx-popover-before-center'] = pos[0] === 'before' && pos[1] === 'center';\n    this._classList['mtx-popover-before-below'] = pos[0] === 'before' && pos[1] === 'below';\n    this._classList['mtx-popover-after-above'] = pos[0] === 'after' && pos[1] === 'above';\n    this._classList['mtx-popover-after-center'] = pos[0] === 'after' && pos[1] === 'center';\n    this._classList['mtx-popover-after-below'] = pos[0] === 'after' && pos[1] === 'below';\n    this._classList['mtx-popover-above-before'] = pos[0] === 'above' && pos[1] === 'before';\n    this._classList['mtx-popover-above-center'] = pos[0] === 'above' && pos[1] === 'center';\n    this._classList['mtx-popover-above-after'] = pos[0] === 'above' && pos[1] === 'after';\n    this._classList['mtx-popover-below-before'] = pos[0] === 'below' && pos[1] === 'before';\n    this._classList['mtx-popover-below-center'] = pos[0] === 'below' && pos[1] === 'center';\n    this._classList['mtx-popover-below-after'] = pos[0] === 'below' && pos[1] === 'after';\n  }\n\n  static ngAcceptInputType_closeOnPanelClick: BooleanInput;\n  static ngAcceptInputType_closeOnBackdropClick: BooleanInput;\n  static ngAcceptInputType_disableAnimation: BooleanInput;\n  static ngAcceptInputType_focusTrapEnabled: BooleanInput;\n  static ngAcceptInputType_focusTrapAutoCaptureEnabled: BooleanInput;\n}\n","import {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  ViewContainerRef,\n  HostListener,\n  HostBinding,\n  ChangeDetectorRef,\n} from '@angular/core';\n\nimport { isFakeMousedownFromScreenReader } from '@angular/cdk/a11y';\nimport { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n  Overlay,\n  OverlayRef,\n  OverlayConfig,\n  HorizontalConnectionPos,\n  VerticalConnectionPos,\n  FlexibleConnectedPositionStrategy,\n  ScrollStrategy,\n  ConnectedPosition,\n} from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\n\nimport { Subscription, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { MtxPopoverPanel, MtxTarget } from './popover-interfaces';\nimport {\n  MtxPopoverTriggerEvent,\n  MtxPopoverScrollStrategy,\n  MtxPopoverPosition,\n  MtxPopoverPositionStart,\n} from './popover-types';\nimport { throwMtxPopoverMissingError } from './popover-errors';\n\n/**\n * This directive is intended to be used in conjunction with an mtx-popover tag. It is\n * responsible for toggling the display of the provided popover instance.\n */\n\n@Directive({\n  selector: '[mtxPopoverTriggerFor]',\n  exportAs: 'mtxPopoverTrigger',\n})\nexport class MtxPopoverTrigger implements AfterViewInit, OnDestroy {\n  @HostBinding('attr.aria-haspopup') ariaHaspopup = true;\n\n  popoverOpened$ = new Subject<void>();\n  popoverClosed$ = new Subject<void>();\n\n  private _portal: TemplatePortal<any>;\n  private _overlayRef: OverlayRef | null = null;\n  private _popoverOpen = false;\n  private _halt = false;\n  private _backdropSubscription: Subscription;\n  private _positionSubscription: Subscription;\n  private _detachmentsSubscription: Subscription;\n\n  private _mouseoverTimer: any;\n\n  // tracking input type is necessary so it's possible to only auto-focus\n  // the first item of the list when the popover is opened via the keyboard\n  private _openedByMouse = false;\n\n  private _onDestroy = new Subject<void>();\n\n  /** References the popover instance that the trigger is associated with. */\n  @Input('mtxPopoverTriggerFor') popover: MtxPopoverPanel;\n\n  /** References the popover target instance that the trigger is associated with. */\n  @Input('mtxPopoverTargetAt') targetElement: MtxTarget;\n\n  /** Popover trigger event */\n  @Input('mtxPopoverTriggerOn') triggerEvent: MtxPopoverTriggerEvent;\n\n  /** Event emitted when the associated popover is opened. */\n  @Output() popoverOpened = new EventEmitter<void>();\n\n  /** Event emitted when the associated popover is closed. */\n  @Output() popoverClosed = new EventEmitter<void>();\n\n  constructor(\n    private _overlay: Overlay,\n    public _elementRef: ElementRef,\n    private _viewContainerRef: ViewContainerRef,\n    @Optional() private _dir: Directionality,\n    private _changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewInit() {\n    this._checkPopover();\n    this._setCurrentConfig();\n    this.popover.closed.subscribe(() => this.closePopover());\n  }\n\n  ngOnDestroy() {\n    this.destroyPopover();\n  }\n\n  private _setCurrentConfig() {\n    if (this.triggerEvent) {\n      this.popover.triggerEvent = this.triggerEvent;\n    }\n\n    this.popover.setCurrentStyles();\n  }\n\n  /** Whether the popover is open. */\n  get popoverOpen(): boolean {\n    return this._popoverOpen;\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(event: MouseEvent): void {\n    if (this.popover.triggerEvent === 'click') {\n      this.togglePopover();\n    }\n  }\n\n  @HostListener('mouseenter', ['$event'])\n  onMouseEnter(event: MouseEvent): void {\n    this._halt = false;\n    if (this.popover.triggerEvent === 'hover') {\n      this._mouseoverTimer = setTimeout(() => {\n        this.openPopover();\n      }, this.popover.enterDelay);\n    }\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  onMouseLeave(event: MouseEvent): void {\n    if (this.popover.triggerEvent === 'hover') {\n      if (this._mouseoverTimer) {\n        clearTimeout(this._mouseoverTimer);\n        this._mouseoverTimer = null;\n      }\n      if (this._popoverOpen) {\n        setTimeout(() => {\n          if (!this.popover.closeDisabled) {\n            this.closePopover();\n          }\n        }, this.popover.leaveDelay);\n      } else {\n        this._halt = true;\n      }\n    }\n  }\n\n  /** Toggles the popover between the open and closed states. */\n  togglePopover(): void {\n    return this._popoverOpen ? this.closePopover() : this.openPopover();\n  }\n\n  /** Opens the popover. */\n  openPopover(): void {\n    if (!this._popoverOpen && !this._halt) {\n      this._createOverlay().attach(this._portal);\n\n      this._subscribeToBackdrop();\n      this._subscribeToDetachments();\n\n      this._initPopover();\n    }\n  }\n\n  /** Closes the popover. */\n  closePopover(): void {\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._resetPopover();\n    }\n\n    this.destroyPopover();\n  }\n\n  /** Removes the popover from the DOM. */\n  destroyPopover(): void {\n    if (this._mouseoverTimer) {\n      clearTimeout(this._mouseoverTimer);\n      this._mouseoverTimer = null;\n    }\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n      this._cleanUpSubscriptions();\n    }\n\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  /** Focuses the popover trigger. */\n  focus() {\n    this._elementRef.nativeElement.focus();\n  }\n\n  /** The text direction of the containing app. */\n  get dir(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n\n  /**\n   * This method ensures that the popover closes when the overlay backdrop is clicked.\n   * We do not use first() here because doing so would not catch clicks from within\n   * the popover, and it would fail to unsubscribe properly. Instead, we unsubscribe\n   * explicitly when the popover is closed or destroyed.\n   */\n  private _subscribeToBackdrop(): void {\n    if (this._overlayRef) {\n      /** Only subscribe to backdrop if trigger event is click */\n      if (this.triggerEvent === 'click' && this.popover.closeOnBackdropClick === true) {\n        this._overlayRef\n          .backdropClick()\n          .pipe(takeUntil(this.popoverClosed$), takeUntil(this._onDestroy))\n          .subscribe(() => {\n            this.popover._emitCloseEvent();\n          });\n      }\n    }\n  }\n\n  private _subscribeToDetachments(): void {\n    if (this._overlayRef) {\n      this._overlayRef\n        .detachments()\n        .pipe(takeUntil(this.popoverClosed$), takeUntil(this._onDestroy))\n        .subscribe(() => {\n          this._setPopoverClosed();\n        });\n    }\n  }\n\n  /**\n   * This method sets the popover state to open and focuses the first item if\n   * the popover was opened via the keyboard.\n   */\n  private _initPopover(): void {\n    this._setPopoverOpened();\n  }\n\n  /**\n   * This method resets the popover when it's closed, most importantly restoring\n   * focus to the popover trigger if the popover was opened via the keyboard.\n   */\n  private _resetPopover(): void {\n    this._setPopoverClosed();\n\n    // Focus only needs to be reset to the host element if the popover was opened\n    // by the keyboard and manually shifted to the first popover item.\n    if (!this._openedByMouse) {\n      this.focus();\n    }\n    this._openedByMouse = false;\n  }\n\n  /** set state rather than toggle to support triggers sharing a popover */\n  private _setPopoverOpened(): void {\n    if (!this._popoverOpen) {\n      this._popoverOpen = true;\n\n      this.popoverOpened$.next();\n      this.popoverOpened.emit();\n    }\n  }\n\n  /** set state rather than toggle to support triggers sharing a popover */\n  private _setPopoverClosed(): void {\n    if (this._popoverOpen) {\n      this._popoverOpen = false;\n\n      this.popoverClosed$.next();\n      this.popoverClosed.emit();\n    }\n  }\n\n  /**\n   *  This method checks that a valid instance of MdPopover has been passed into\n   *  mdPopoverTriggerFor. If not, an exception is thrown.\n   */\n  private _checkPopover() {\n    if (!this.popover) {\n      throwMtxPopoverMissingError();\n    }\n  }\n\n  /**\n   *  This method creates the overlay from the provided popover's template and saves its\n   *  OverlayRef so that it can be attached to the DOM when openPopover is called.\n   */\n  private _createOverlay(): OverlayRef {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.popover.templateRef, this._viewContainerRef);\n      const config = this._getOverlayConfig();\n      this._subscribeToPositions(config.positionStrategy as FlexibleConnectedPositionStrategy);\n      this._overlayRef = this._overlay.create(config);\n    }\n\n    return this._overlayRef;\n  }\n\n  /**\n   * This method builds the configuration object needed to create the overlay, the OverlayConfig.\n   * @returns OverlayConfig\n   */\n  private _getOverlayConfig(): OverlayConfig {\n    const overlayState = new OverlayConfig();\n    overlayState.positionStrategy = this._getPosition();\n\n    /** Display overlay backdrop if trigger event is click */\n    if (this.triggerEvent === 'click') {\n      overlayState.hasBackdrop = true;\n      overlayState.backdropClass = 'cdk-overlay-transparent-backdrop';\n    }\n\n    overlayState.direction = this._dir;\n    overlayState.scrollStrategy = this._getOverlayScrollStrategy(this.popover.scrollStrategy);\n\n    return overlayState;\n  }\n\n  /**\n   * This method returns the scroll strategy used by the cdk/overlay.\n   */\n  private _getOverlayScrollStrategy(strategy: MtxPopoverScrollStrategy): ScrollStrategy {\n    switch (strategy) {\n      case 'noop':\n        return this._overlay.scrollStrategies.noop();\n      case 'close':\n        return this._overlay.scrollStrategies.close();\n      case 'block':\n        return this._overlay.scrollStrategies.block();\n      case 'reposition':\n      default:\n        return this._overlay.scrollStrategies.reposition();\n    }\n  }\n\n  /**\n   * Listens to changes in the position of the overlay and sets the correct classes\n   * on the popover based on the new position. This ensures the animation origin is always\n   * correct, even if a fallback position is used for the overlay.\n   */\n  private _subscribeToPositions(position: FlexibleConnectedPositionStrategy): void {\n    this._positionSubscription = position.positionChanges.subscribe(change => {\n      const posX =\n        change.connectionPair.overlayX === 'start'\n          ? 'after'\n          : change.connectionPair.overlayX === 'end'\n          ? 'before'\n          : 'center';\n      const posY =\n        change.connectionPair.overlayY === 'top'\n          ? 'below'\n          : change.connectionPair.overlayY === 'bottom'\n          ? 'above'\n          : 'center';\n\n      const pos: MtxPopoverPosition =\n        this.popover.position[0] === 'above' || this.popover.position[0] === 'below'\n          ? [posY as MtxPopoverPositionStart, posX]\n          : [posX as MtxPopoverPositionStart, posY];\n\n      // required for ChangeDetectionStrategy.OnPush\n      this._changeDetectorRef.markForCheck();\n\n      this.popover.zone.run(() => {\n        this.popover.setCurrentStyles(pos);\n        this.popover.setPositionClasses(pos);\n      });\n    });\n  }\n\n  /**\n   * This method builds the position strategy for the overlay, so the popover is properly connected\n   * to the trigger.\n   * @returns ConnectedPositionStrategy\n   */\n  private _getPosition(): FlexibleConnectedPositionStrategy {\n    const [originX, origin2ndX, origin3rdX]: HorizontalConnectionPos[] =\n      this.popover.position[0] === 'before' || this.popover.position[1] === 'after'\n        ? ['start', 'center', 'end']\n        : this.popover.position[0] === 'after' || this.popover.position[1] === 'before'\n        ? ['end', 'center', 'start']\n        : ['center', 'start', 'end'];\n\n    const [originY, origin2ndY, origin3rdY]: VerticalConnectionPos[] =\n      this.popover.position[0] === 'above' || this.popover.position[1] === 'below'\n        ? ['top', 'center', 'bottom']\n        : this.popover.position[0] === 'below' || this.popover.position[1] === 'above'\n        ? ['bottom', 'center', 'top']\n        : ['center', 'top', 'bottom'];\n\n    const [overlayX, overlayFallbackX]: HorizontalConnectionPos[] =\n      this.popover.position[0] === 'below' || this.popover.position[0] === 'above'\n        ? [originX, originX]\n        : this.popover.position[0] === 'before'\n        ? ['end', 'start']\n        : ['start', 'end'];\n\n    const [overlayY, overlayFallbackY]: VerticalConnectionPos[] =\n      this.popover.position[0] === 'before' || this.popover.position[0] === 'after'\n        ? [originY, originY]\n        : this.popover.position[0] === 'below'\n        ? ['top', 'bottom']\n        : ['bottom', 'top'];\n\n    const originFallbackX = overlayX;\n    const originFallbackY = overlayY;\n\n    const offsetX =\n      this.popover.xOffset && !isNaN(Number(this.popover.xOffset))\n        ? Number(this.dir === 'ltr' ? this.popover.xOffset : -this.popover.xOffset)\n        : 0;\n    const offsetY =\n      this.popover.yOffset && !isNaN(Number(this.popover.yOffset))\n        ? Number(this.popover.yOffset)\n        : 0;\n\n    /**\n     * For overriding position element, when `mtxPopoverTargetAt` has a valid element reference.\n     * Useful for sticking popover to parent element and offsetting arrow to trigger element.\n     * If undefined defaults to the trigger element reference.\n     */\n    let element = this._elementRef;\n    if (typeof this.targetElement !== 'undefined') {\n      this.popover.containerPositioning = true;\n      element = this.targetElement._elementRef;\n    }\n\n    let positions: ConnectedPosition[] = [{ originX, originY, overlayX, overlayY }];\n\n    if (this.popover.position[0] === 'above' || this.popover.position[0] === 'below') {\n      positions = [\n        { originX, originY, overlayX, overlayY, offsetY },\n        { originX: origin2ndX, originY, overlayX: origin2ndX, overlayY, offsetY },\n        { originX: origin3rdX, originY, overlayX: origin3rdX, overlayY, offsetY },\n        {\n          originX,\n          originY: originFallbackY,\n          overlayX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n        {\n          originX: origin2ndX,\n          originY: originFallbackY,\n          overlayX: origin2ndX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n        {\n          originX: origin3rdX,\n          originY: originFallbackY,\n          overlayX: origin3rdX,\n          overlayY: overlayFallbackY,\n          offsetY: -offsetY,\n        },\n      ];\n    }\n\n    if (this.popover.position[0] === 'before' || this.popover.position[0] === 'after') {\n      positions = [\n        { originX, originY, overlayX, overlayY, offsetX },\n        { originX, originY: origin2ndY, overlayX, overlayY: origin2ndY, offsetX },\n        { originX, originY: origin3rdY, overlayX, overlayY: origin3rdY, offsetX },\n        {\n          originX: originFallbackX,\n          originY,\n          overlayX: overlayFallbackX,\n          overlayY,\n          offsetX: -offsetX,\n        },\n        {\n          originX: originFallbackX,\n          originY: origin2ndY,\n          overlayX: overlayFallbackX,\n          overlayY: origin2ndY,\n          offsetX: -offsetX,\n        },\n        {\n          originX: originFallbackX,\n          originY: origin3rdY,\n          overlayX: overlayFallbackX,\n          overlayY: origin3rdY,\n          offsetX: -offsetX,\n        },\n      ];\n    }\n\n    return this._overlay\n      .position()\n      .flexibleConnectedTo(element)\n      .withLockedPosition()\n      .withPositions(positions)\n      .withDefaultOffsetX(offsetX)\n      .withDefaultOffsetY(offsetY);\n  }\n\n  private _cleanUpSubscriptions(): void {\n    if (this._backdropSubscription) {\n      this._backdropSubscription.unsubscribe();\n    }\n    if (this._positionSubscription) {\n      this._positionSubscription.unsubscribe();\n    }\n    if (this._detachmentsSubscription) {\n      this._detachmentsSubscription.unsubscribe();\n    }\n  }\n\n  @HostListener('mousedown', ['$event']) _handleMousedown(event: MouseEvent): void {\n    if (event && !isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n    }\n  }\n}\n","import { Directive, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'mtx-popover-target, [mtxPopoverTarget]',\r\n  exportAs: 'mtxPopoverTarget',\r\n})\r\nexport class MtxPopoverTarget {\r\n  constructor(public _elementRef: ElementRef) {}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { A11yModule } from '@angular/cdk/a11y';\r\n\r\nimport { MtxPopover } from './popover';\r\nimport { MtxPopoverTrigger } from './popover-trigger';\r\nimport { MtxPopoverTarget } from './popover-target';\r\n\r\n@NgModule({\r\n  imports: [OverlayModule, CommonModule, A11yModule],\r\n  exports: [MtxPopover, MtxPopoverTrigger, MtxPopoverTarget],\r\n  declarations: [MtxPopover, MtxPopoverTrigger, MtxPopoverTarget],\r\n})\r\nexport class MtxPopoverModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}